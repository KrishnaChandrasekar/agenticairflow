import{r as o,a as ot}from"./vendor-30840fde.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))a(d);new MutationObserver(d=>{for(const n of d)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(d){const n={};return d.integrity&&(n.integrity=d.integrity),d.referrerPolicy&&(n.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?n.credentials="include":d.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(d){if(d.ep)return;d.ep=!0;const n=i(d);fetch(d.href,n)}})();var Ue={exports:{}},Le={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=o,nt=Symbol.for("react.element"),lt=Symbol.for("react.fragment"),it=Object.prototype.hasOwnProperty,dt=at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ct={key:!0,ref:!0,__self:!0,__source:!0};function Pe(t,r,i){var a,d={},n=null,u=null;i!==void 0&&(n=""+i),r.key!==void 0&&(n=""+r.key),r.ref!==void 0&&(u=r.ref);for(a in r)it.call(r,a)&&!ct.hasOwnProperty(a)&&(d[a]=r[a]);if(t&&t.defaultProps)for(a in r=t.defaultProps,r)d[a]===void 0&&(d[a]=r[a]);return{$$typeof:nt,type:t,key:n,ref:u,props:d,_owner:dt.current}}Le.Fragment=lt;Le.jsx=Pe;Le.jsxs=Pe;Ue.exports=Le;var e=Ue.exports,ut={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi},ze=ut,Re={whitespace:/\s+/g,urlHexPairs:/%[\dA-F]{2}/g,quotes:/"/g};function ht(t){return t.trim().replace(Re.whitespace," ")}function ft(t){return encodeURIComponent(t).replace(Re.urlHexPairs,gt)}function mt(t){return Object.keys(ze).forEach(function(r){ze[r].test(t)&&(t=t.replace(ze[r],r))}),t}function gt(t){switch(t){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return t.toLowerCase()}}function Ee(t){if(typeof t!="string")throw new TypeError("Expected a string, but received "+typeof t);t.charCodeAt(0)===65279&&(t=t.slice(1));var r=mt(ht(t)).replace(Re.quotes,"'");return"data:image/svg+xml,"+ft(r)}Ee.toSrcset=function(r){return Ee(r).replace(/ /g,"%20")};var pt=Ee,Ve={},Ge={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});function r(a,d){return{handler:a,config:d}}r.withOptions=function(a,d=()=>({})){const n=function(u){return{__options:u,handler:a(u),config:d(u)}};return n.__isOptionsFunction=!0,n.__pluginFunction=a,n.__configFunction=d,n};const i=r})(Ge);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});const r=i(Ge);function i(d){return d&&d.__esModule?d:{default:d}}const a=r.default})(Ve);let Ae=Ve;var xt=(Ae.__esModule?Ae:{default:Ae}).default,Ze={},qe={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cloneDeep",{enumerable:!0,get:function(){return r}});function r(i){return Array.isArray(i)?i.map(a=>r(a)):typeof i=="object"&&i!==null?Object.fromEntries(Object.entries(i).map(([a,d])=>[a,r(d)])):i}})(qe);var bt={content:[],presets:[],darkMode:"media",theme:{accentColor:({theme:t})=>({...t("colors"),auto:"auto"}),animation:{none:"none",spin:"spin 1s linear infinite",ping:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",bounce:"bounce 1s infinite"},aria:{busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},aspectRatio:{auto:"auto",square:"1 / 1",video:"16 / 9"},backdropBlur:({theme:t})=>t("blur"),backdropBrightness:({theme:t})=>t("brightness"),backdropContrast:({theme:t})=>t("contrast"),backdropGrayscale:({theme:t})=>t("grayscale"),backdropHueRotate:({theme:t})=>t("hueRotate"),backdropInvert:({theme:t})=>t("invert"),backdropOpacity:({theme:t})=>t("opacity"),backdropSaturate:({theme:t})=>t("saturate"),backdropSepia:({theme:t})=>t("sepia"),backgroundColor:({theme:t})=>t("colors"),backgroundImage:{none:"none","gradient-to-t":"linear-gradient(to top, var(--tw-gradient-stops))","gradient-to-tr":"linear-gradient(to top right, var(--tw-gradient-stops))","gradient-to-r":"linear-gradient(to right, var(--tw-gradient-stops))","gradient-to-br":"linear-gradient(to bottom right, var(--tw-gradient-stops))","gradient-to-b":"linear-gradient(to bottom, var(--tw-gradient-stops))","gradient-to-bl":"linear-gradient(to bottom left, var(--tw-gradient-stops))","gradient-to-l":"linear-gradient(to left, var(--tw-gradient-stops))","gradient-to-tl":"linear-gradient(to top left, var(--tw-gradient-stops))"},backgroundOpacity:({theme:t})=>t("opacity"),backgroundPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},backgroundSize:{auto:"auto",cover:"cover",contain:"contain"},blur:{0:"0",none:"",sm:"4px",DEFAULT:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},borderColor:({theme:t})=>({...t("colors"),DEFAULT:t("colors.gray.200","currentColor")}),borderOpacity:({theme:t})=>t("opacity"),borderRadius:{none:"0px",sm:"0.125rem",DEFAULT:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},borderSpacing:({theme:t})=>({...t("spacing")}),borderWidth:{DEFAULT:"1px",0:"0px",2:"2px",4:"4px",8:"8px"},boxShadow:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"none"},boxShadowColor:({theme:t})=>t("colors"),brightness:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5",200:"2"},caretColor:({theme:t})=>t("colors"),colors:({colors:t})=>({inherit:t.inherit,current:t.current,transparent:t.transparent,black:t.black,white:t.white,slate:t.slate,gray:t.gray,zinc:t.zinc,neutral:t.neutral,stone:t.stone,red:t.red,orange:t.orange,amber:t.amber,yellow:t.yellow,lime:t.lime,green:t.green,emerald:t.emerald,teal:t.teal,cyan:t.cyan,sky:t.sky,blue:t.blue,indigo:t.indigo,violet:t.violet,purple:t.purple,fuchsia:t.fuchsia,pink:t.pink,rose:t.rose}),columns:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12","3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},container:{},content:{none:"none"},contrast:{0:"0",50:".5",75:".75",100:"1",125:"1.25",150:"1.5",200:"2"},cursor:{auto:"auto",default:"default",pointer:"pointer",wait:"wait",text:"text",move:"move",help:"help","not-allowed":"not-allowed",none:"none","context-menu":"context-menu",progress:"progress",cell:"cell",crosshair:"crosshair","vertical-text":"vertical-text",alias:"alias",copy:"copy","no-drop":"no-drop",grab:"grab",grabbing:"grabbing","all-scroll":"all-scroll","col-resize":"col-resize","row-resize":"row-resize","n-resize":"n-resize","e-resize":"e-resize","s-resize":"s-resize","w-resize":"w-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","se-resize":"se-resize","sw-resize":"sw-resize","ew-resize":"ew-resize","ns-resize":"ns-resize","nesw-resize":"nesw-resize","nwse-resize":"nwse-resize","zoom-in":"zoom-in","zoom-out":"zoom-out"},divideColor:({theme:t})=>t("borderColor"),divideOpacity:({theme:t})=>t("borderOpacity"),divideWidth:({theme:t})=>t("borderWidth"),dropShadow:{sm:"0 1px 1px rgb(0 0 0 / 0.05)",DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 #0000"},fill:({theme:t})=>({none:"none",...t("colors")}),flex:{1:"1 1 0%",auto:"1 1 auto",initial:"0 1 auto",none:"none"},flexBasis:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%"}),flexGrow:{0:"0",DEFAULT:"1"},flexShrink:{0:"0",DEFAULT:"1"},fontFamily:{sans:["ui-sans-serif","system-ui","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}],"5xl":["3rem",{lineHeight:"1"}],"6xl":["3.75rem",{lineHeight:"1"}],"7xl":["4.5rem",{lineHeight:"1"}],"8xl":["6rem",{lineHeight:"1"}],"9xl":["8rem",{lineHeight:"1"}]},fontWeight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},gap:({theme:t})=>t("spacing"),gradientColorStops:({theme:t})=>t("colors"),gradientColorStopPositions:{"0%":"0%","5%":"5%","10%":"10%","15%":"15%","20%":"20%","25%":"25%","30%":"30%","35%":"35%","40%":"40%","45%":"45%","50%":"50%","55%":"55%","60%":"60%","65%":"65%","70%":"70%","75%":"75%","80%":"80%","85%":"85%","90%":"90%","95%":"95%","100%":"100%"},grayscale:{0:"0",DEFAULT:"100%"},gridAutoColumns:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridAutoRows:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridColumn:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridColumnEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridColumnStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRow:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridRowEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRowStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridTemplateColumns:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},gridTemplateRows:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},height:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),hueRotate:{0:"0deg",15:"15deg",30:"30deg",60:"60deg",90:"90deg",180:"180deg"},inset:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),invert:{0:"0",DEFAULT:"100%"},keyframes:{spin:{to:{transform:"rotate(360deg)"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},pulse:{"50%":{opacity:".5"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}}},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeight:{none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},listStyleType:{none:"none",disc:"disc",decimal:"decimal"},listStyleImage:{none:"none"},margin:({theme:t})=>({auto:"auto",...t("spacing")}),lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},maxHeight:({theme:t})=>({...t("spacing"),none:"none",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),maxWidth:({theme:t,breakpoints:r})=>({...t("spacing"),none:"none",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",full:"100%",min:"min-content",max:"max-content",fit:"fit-content",prose:"65ch",...r(t("screens"))}),minHeight:({theme:t})=>({...t("spacing"),full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),minWidth:({theme:t})=>({...t("spacing"),full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),objectPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},opacity:{0:"0",5:"0.05",10:"0.1",15:"0.15",20:"0.2",25:"0.25",30:"0.3",35:"0.35",40:"0.4",45:"0.45",50:"0.5",55:"0.55",60:"0.6",65:"0.65",70:"0.7",75:"0.75",80:"0.8",85:"0.85",90:"0.9",95:"0.95",100:"1"},order:{first:"-9999",last:"9999",none:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},outlineColor:({theme:t})=>t("colors"),outlineOffset:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},outlineWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},padding:({theme:t})=>t("spacing"),placeholderColor:({theme:t})=>t("colors"),placeholderOpacity:({theme:t})=>t("opacity"),ringColor:({theme:t})=>({DEFAULT:t("colors.blue.500","#3b82f6"),...t("colors")}),ringOffsetColor:({theme:t})=>t("colors"),ringOffsetWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},ringOpacity:({theme:t})=>({DEFAULT:"0.5",...t("opacity")}),ringWidth:{DEFAULT:"3px",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},rotate:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg",45:"45deg",90:"90deg",180:"180deg"},saturate:{0:"0",50:".5",100:"1",150:"1.5",200:"2"},scale:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5"},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},scrollMargin:({theme:t})=>({...t("spacing")}),scrollPadding:({theme:t})=>t("spacing"),sepia:{0:"0",DEFAULT:"100%"},skew:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg"},space:({theme:t})=>({...t("spacing")}),spacing:{px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},stroke:({theme:t})=>({none:"none",...t("colors")}),strokeWidth:{0:"0",1:"1",2:"2"},supports:{},data:{},textColor:({theme:t})=>t("colors"),textDecorationColor:({theme:t})=>t("colors"),textDecorationThickness:{auto:"auto","from-font":"from-font",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},textIndent:({theme:t})=>({...t("spacing")}),textOpacity:({theme:t})=>t("opacity"),textUnderlineOffset:{auto:"auto",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},transformOrigin:{center:"center",top:"top","top-right":"top right",right:"right","bottom-right":"bottom right",bottom:"bottom","bottom-left":"bottom left",left:"left","top-left":"top left"},transitionDelay:{0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionDuration:{DEFAULT:"150ms",0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionProperty:{none:"none",all:"all",DEFAULT:"color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"color, background-color, border-color, text-decoration-color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},transitionTimingFunction:{DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},translate:({theme:t})=>({...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),size:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),width:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",screen:"100vw",svw:"100svw",lvw:"100lvw",dvw:"100dvw",min:"min-content",max:"max-content",fit:"fit-content"}),willChange:{auto:"auto",scroll:"scroll-position",contents:"contents",transform:"transform"},zIndex:{auto:"auto",0:"0",10:"10",20:"20",30:"30",40:"40",50:"50"}},plugins:[]};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});const r=qe,i=a(bt);function a(n){return n&&n.__esModule?n:{default:n}}const d=(0,r.cloneDeep)(i.default.theme)})(Ze);let De=Ze;var vt=(De.__esModule?De:{default:De}).default,Ye={},Ke={},Be={exports:{}},z=String,Qe=function(){return{isColorSupported:!1,reset:z,bold:z,dim:z,italic:z,underline:z,inverse:z,hidden:z,strikethrough:z,black:z,red:z,green:z,yellow:z,blue:z,magenta:z,cyan:z,white:z,gray:z,bgBlack:z,bgRed:z,bgGreen:z,bgYellow:z,bgBlue:z,bgMagenta:z,bgCyan:z,bgWhite:z,blackBright:z,redBright:z,greenBright:z,yellowBright:z,blueBright:z,magentaBright:z,cyanBright:z,whiteBright:z,bgBlackBright:z,bgRedBright:z,bgGreenBright:z,bgYellowBright:z,bgBlueBright:z,bgMagentaBright:z,bgCyanBright:z,bgWhiteBright:z}};Be.exports=Qe();Be.exports.createColors=Qe;var wt=Be.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0});function r(c,m){for(var N in m)Object.defineProperty(c,N,{enumerable:!0,get:m[N]})}r(t,{dim:function(){return u},default:function(){return f}});const i=a(wt);function a(c){return c&&c.__esModule?c:{default:c}}let d=new Set;function n(c,m,N){typeof process<"u"&&{}.JEST_WORKER_ID||N&&d.has(N)||(N&&d.add(N),console.warn(""),m.forEach(_=>console.warn(c,"-",_)))}function u(c){return i.default.dim(c)}const f={info(c,m){n(i.default.bold(i.default.cyan("info")),...Array.isArray(c)?[c]:[m,c])},warn(c,m){n(i.default.bold(i.default.yellow("warn")),...Array.isArray(c)?[c]:[m,c])},risk(c,m){n(i.default.bold(i.default.magenta("risk")),...Array.isArray(c)?[c]:[m,c])}}})(Ke);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});const r=i(Ke);function i(n){return n&&n.__esModule?n:{default:n}}function a({version:n,from:u,to:f}){r.default.warn(`${u}-color-renamed`,[`As of Tailwind CSS ${n}, \`${u}\` has been renamed to \`${f}\`.`,"Update your configuration file to silence this warning."])}const d={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return a({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return a({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return a({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return a({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return a({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(Ye);let $e=Ye;var yt=($e.__esModule?$e:{default:$e}).default;const Ce=pt,jt=xt,Xe=vt,he=yt,[kt,{lineHeight:Nt}]=Xe.fontSize.base,{spacing:de,borderWidth:Je,borderRadius:He}=Xe;function me(t,r){return t.replace("<alpha-value>",`var(${r}, 1)`)}jt.withOptions(function(t={strategy:void 0}){return function({addBase:r,addComponents:i,theme:a}){function d(c,m){let N=a(c);return!N||N.includes("var(")?m:N.replace("<alpha-value>","1")}const n=t.strategy===void 0?["base","class"]:[t.strategy],u=[{base:["[type='text']","input:where(:not([type]))","[type='email']","[type='url']","[type='password']","[type='number']","[type='date']","[type='datetime-local']","[type='month']","[type='search']","[type='tel']","[type='time']","[type='week']","[multiple]","textarea","select"],class:[".form-input",".form-textarea",".form-select",".form-multiselect"],styles:{appearance:"none","background-color":"#fff","border-color":me(a("colors.gray.500",he.gray[500]),"--tw-border-opacity"),"border-width":Je.DEFAULT,"border-radius":He.none,"padding-top":de[2],"padding-right":de[3],"padding-bottom":de[2],"padding-left":de[3],"font-size":kt,"line-height":Nt,"--tw-shadow":"0 0 #0000","&:focus":{outline:"2px solid transparent","outline-offset":"2px","--tw-ring-inset":"var(--tw-empty,/*!*/ /*!*/)","--tw-ring-offset-width":"0px","--tw-ring-offset-color":"#fff","--tw-ring-color":me(a("colors.blue.600",he.blue[600]),"--tw-ring-opacity"),"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color)","box-shadow":"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow)","border-color":me(a("colors.blue.600",he.blue[600]),"--tw-border-opacity")}}},{base:["input::placeholder","textarea::placeholder"],class:[".form-input::placeholder",".form-textarea::placeholder"],styles:{color:me(a("colors.gray.500",he.gray[500]),"--tw-text-opacity"),opacity:"1"}},{base:["::-webkit-datetime-edit-fields-wrapper"],class:[".form-input::-webkit-datetime-edit-fields-wrapper"],styles:{padding:"0"}},{base:["::-webkit-date-and-time-value"],class:[".form-input::-webkit-date-and-time-value"],styles:{"min-height":"1.5em"}},{base:["::-webkit-date-and-time-value"],class:[".form-input::-webkit-date-and-time-value"],styles:{"text-align":"inherit"}},{base:["::-webkit-datetime-edit"],class:[".form-input::-webkit-datetime-edit"],styles:{display:"inline-flex"}},{base:["::-webkit-datetime-edit","::-webkit-datetime-edit-year-field","::-webkit-datetime-edit-month-field","::-webkit-datetime-edit-day-field","::-webkit-datetime-edit-hour-field","::-webkit-datetime-edit-minute-field","::-webkit-datetime-edit-second-field","::-webkit-datetime-edit-millisecond-field","::-webkit-datetime-edit-meridiem-field"],class:[".form-input::-webkit-datetime-edit",".form-input::-webkit-datetime-edit-year-field",".form-input::-webkit-datetime-edit-month-field",".form-input::-webkit-datetime-edit-day-field",".form-input::-webkit-datetime-edit-hour-field",".form-input::-webkit-datetime-edit-minute-field",".form-input::-webkit-datetime-edit-second-field",".form-input::-webkit-datetime-edit-millisecond-field",".form-input::-webkit-datetime-edit-meridiem-field"],styles:{"padding-top":0,"padding-bottom":0}},{base:["select"],class:[".form-select"],styles:{"background-image":`url("${Ce(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path stroke="${d("colors.gray.500",he.gray[500])}" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 8l4 4 4-4"/></svg>`)}")`,"background-position":`right ${de[2]} center`,"background-repeat":"no-repeat","background-size":"1.5em 1.5em","padding-right":de[10],"print-color-adjust":"exact"}},{base:["[multiple]",'[size]:where(select:not([size="1"]))'],class:['.form-select:where([size]:not([size="1"]))'],styles:{"background-image":"initial","background-position":"initial","background-repeat":"unset","background-size":"initial","padding-right":de[3],"print-color-adjust":"unset"}},{base:["[type='checkbox']","[type='radio']"],class:[".form-checkbox",".form-radio"],styles:{appearance:"none",padding:"0","print-color-adjust":"exact",display:"inline-block","vertical-align":"middle","background-origin":"border-box","user-select":"none","flex-shrink":"0",height:de[4],width:de[4],color:me(a("colors.blue.600",he.blue[600]),"--tw-text-opacity"),"background-color":"#fff","border-color":me(a("colors.gray.500",he.gray[500]),"--tw-border-opacity"),"border-width":Je.DEFAULT,"--tw-shadow":"0 0 #0000"}},{base:["[type='checkbox']"],class:[".form-checkbox"],styles:{"border-radius":He.none}},{base:["[type='radio']"],class:[".form-radio"],styles:{"border-radius":"100%"}},{base:["[type='checkbox']:focus","[type='radio']:focus"],class:[".form-checkbox:focus",".form-radio:focus"],styles:{outline:"2px solid transparent","outline-offset":"2px","--tw-ring-inset":"var(--tw-empty,/*!*/ /*!*/)","--tw-ring-offset-width":"2px","--tw-ring-offset-color":"#fff","--tw-ring-color":me(a("colors.blue.600",he.blue[600]),"--tw-ring-opacity"),"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)","box-shadow":"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow)"}},{base:["[type='checkbox']:checked","[type='radio']:checked"],class:[".form-checkbox:checked",".form-radio:checked"],styles:{"border-color":"transparent","background-color":"currentColor","background-size":"100% 100%","background-position":"center","background-repeat":"no-repeat"}},{base:["[type='checkbox']:checked"],class:[".form-checkbox:checked"],styles:{"background-image":`url("${Ce('<svg viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"/></svg>')}")`,"@media (forced-colors: active) ":{appearance:"auto"}}},{base:["[type='radio']:checked"],class:[".form-radio:checked"],styles:{"background-image":`url("${Ce('<svg viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="3"/></svg>')}")`,"@media (forced-colors: active) ":{appearance:"auto"}}},{base:["[type='checkbox']:checked:hover","[type='checkbox']:checked:focus","[type='radio']:checked:hover","[type='radio']:checked:focus"],class:[".form-checkbox:checked:hover",".form-checkbox:checked:focus",".form-radio:checked:hover",".form-radio:checked:focus"],styles:{"border-color":"transparent","background-color":"currentColor"}},{base:["[type='checkbox']:indeterminate"],class:[".form-checkbox:indeterminate"],styles:{"background-image":`url("${Ce('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h8"/></svg>')}")`,"border-color":"transparent","background-color":"currentColor","background-size":"100% 100%","background-position":"center","background-repeat":"no-repeat","@media (forced-colors: active) ":{appearance:"auto"}}},{base:["[type='checkbox']:indeterminate:hover","[type='checkbox']:indeterminate:focus"],class:[".form-checkbox:indeterminate:hover",".form-checkbox:indeterminate:focus"],styles:{"border-color":"transparent","background-color":"currentColor"}},{base:["[type='file']"],class:null,styles:{background:"unset","border-color":"inherit","border-width":"0","border-radius":"0",padding:"0","font-size":"unset","line-height":"inherit"}},{base:["[type='file']:focus"],class:null,styles:{outline:["1px solid ButtonText","1px auto -webkit-focus-ring-color"]}}],f=c=>u.map(m=>m[c]===null?null:{[m[c]]:m.styles}).filter(Boolean);n.includes("base")&&r(f("base")),n.includes("class")&&i(f("class"))}});var et,We=ot;et=We.createRoot,We.hydrateRoot;const pe=window.API_BASE||"http://localhost:8000",Ct=()=>{let t=[];try{if(Intl.supportedValuesOf){if(t=Intl.supportedValuesOf("timeZone"),!Array.isArray(t)||!t.length)throw new Error("No supported timezones found")}else throw new Error("Intl.supportedValuesOf not available")}catch{t=["UTC","Asia/Kolkata","America/Los_Angeles","America/New_York","Europe/London","Europe/Berlin","Asia/Singapore","Asia/Tokyo","Australia/Sydney"]}try{const r=Intl.DateTimeFormat().resolvedOptions().timeZone;r&&!t.includes(r)?t.unshift(r):r&&t.includes(r)&&(t=t.filter(i=>i!==r),t.unshift(r))}catch(r){console.warn("Failed to detect local timezone for dropdown:",r)}return t},Lt=(t,r=new Date)=>{try{const a=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(r).reduce((_,$)=>(_[$.type]=$.value,_),{}),d=Number(a.year),n=Number(a.month),u=Number(a.day),f=Number(a.hour),c=Number(a.minute),m=Number(a.second),N=Date.UTC(d,n-1,u,f,c,m);return Math.round((N-r.getTime())/6e4)}catch{return 0}},Mt=t=>{const r=Lt(t),i=r>=0?"+":"-",a=Math.abs(r),d=Math.floor(a/60),n=a%60;return n===0?`UTC${i}${d}`:n===30?`UTC${i}${d}.5`:n===45?`UTC${i}${d}.75`:n===15?`UTC${i}${d}.25`:`UTC${i}${d}:${String(n).padStart(2,"0")}`},Fe=t=>`${t} - (${Mt(t)})`,tt=t=>{if(t==null)return null;if(typeof t=="number")return new Date(t);const r=String(t);return/[zZ]|[+\-]\d{2}:?\d{2}$/.test(r)?new Date(r):/^\d{4}-\d{2}-\d{2}[ T]\d{2}:\d{2}:\d{2}(\.\d+)?$/.test(r)?new Date(r.replace(" ","T")+"Z"):new Date(r)},we=(t,r)=>{if(!t)return"-";try{return new Intl.DateTimeFormat(void 0,{timeZone:r,year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(tt(t))}catch{return t}},ye=t=>{if(!t)return"-";const r=tt(t).getTime(),i=Math.max(0,Math.floor((Date.now()-r)/1e3));if(i<60)return`${i}s ago`;const a=Math.floor(i/60);if(a<60)return`${a}m ago`;const d=Math.floor(a/60);return d<24?`${d}h ago`:`${Math.floor(d/24)}d ago`},Me=()=>({Authorization:"Bearer router-secret","Content-Type":"application/json"}),Se=async(t,r={})=>{const i={...Me(),...r.headers},a=await fetch(t,{...r,headers:i}),d=await a.text();let n;try{n=JSON.parse(d)}catch{throw new Error(`Non-JSON from ${t}: ${d.slice(0,200)}`)}if(!a.ok)throw new Error(`HTTP ${a.status} ${t}: ${d.slice(0,200)}`);return n},Ie=t=>(t==null?"":String(t)).toLowerCase(),je=(t,r)=>Ie(t).includes(Ie(r)),rt=(t,r)=>{if(!r)return!0;const i=(r||"").trim();if(!i)return!0;try{const a=i.split(":");if(a.length===2){const d=a[0].trim(),n=a[1].trim();return je((t||{})[d]||"",n)}}catch{}try{return JSON.stringify(t||{}).toLowerCase().includes(i.toLowerCase())}catch{return!1}},ge=t=>{if(t==null)return NaN;if(typeof t=="number")return t<1e12?t*1e3:t;if(typeof t=="string"){let r=t.trim();if(!r)return NaN;if(/^\d{10}$/.test(r))return parseInt(r,10)*1e3;if(/^\d{13}$/.test(r))return parseInt(r,10);let i=r.match(/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2})\.(\d{3,})(Z|[+\-]\d{2}:?\d{2})$/);if(i){const[d,n,u,f]=i,c=u.slice(0,3).padEnd(3,"0");return Date.parse(`${n}.${c}${f}`)||NaN}return i=r.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(Z|[+\-]\d{2}:?\d{2})$/),i?Date.parse(r)||NaN:(i=r.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{1,6})?$/),i?Date.parse(r+"Z")||NaN:Date.parse(r.includes(" ")?r.replace(" ","T"):r)||NaN)}return NaN},St=({timezone:t,onTimezoneChange:r,onResetToLocal:i,onClearCache:a,onSubmitJobClick:d})=>{const[n,u]=o.useState(!1),f=o.useRef(null),c=o.useRef(null),m=Ct();o.useEffect(()=>{console.log(`🎛️ HEADER: Received timezone prop: ${t}`)},[t]),o.useEffect(()=>{const x=S=>{f.current&&!f.current.contains(S.target)&&c.current&&!c.current.contains(S.target)&&u(!1)},R=S=>{S.key==="Escape"&&u(!1)};if(n)return document.addEventListener("click",x),document.addEventListener("keydown",R),()=>{document.removeEventListener("click",x),document.removeEventListener("keydown",R)}},[n]);const N=x=>{console.log(`🖱️ HEADER: User clicked timezone: ${x}`),console.log(`🖱️ HEADER: Current timezone before change: ${t}`),r(x),u(!1),console.log(`🖱️ HEADER: Called onTimezoneChange with: ${x}`)},_=()=>{i&&i()&&u(!1)},$=()=>{u(x=>!x)};return e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-display text-primary ml-4 cursor-pointer transition-colors duration-200 hover:text-accent",style:{color:"#143d6b"},children:"Agent Router Monitoring Console"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{ref:c,onClick:$,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white border border-blue-200 rounded-lg text-sm font-medium text-gray-900 hover:bg-blue-50 hover:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:Fe(t)}),e.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&e.jsxs("div",{ref:f,className:"absolute top-full right-0 mt-2 w-80 max-h-72 overflow-auto bg-gradient-to-r from-blue-25 to-indigo-25 border border-blue-200 rounded-lg shadow-lg z-50 backdrop-blur-sm",children:[e.jsxs("button",{type:"button",onClick:_,className:"w-full text-left px-4 py-3 hover:bg-blue-100/60 border-b border-blue-200 text-blue-700 font-medium flex items-center transition-all duration-150",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",className:"mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 0 1 1 1v2.101a7.002 7.002 0 0 1 11.601 2.566 1 1 0 1 1-1.885.666A5.002 5.002 0 0 0 5.999 7H9a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm.008 9.057a1 1 0 0 1 1.276.61A5.002 5.002 0 0 0 14.001 13H11a1 1 0 1 1 0-2h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-2.101a7.002 7.002 0 0 1-11.601-2.566 1 1 0 0 1.61-1.276z",clipRule:"evenodd"})}),"Reset to Local Timezone"]}),a&&e.jsxs("button",{type:"button",onClick:()=>{a(),u(!1)},className:"w-full text-left px-4 py-3 hover:bg-orange-100/60 border-b border-blue-200 text-orange-700 font-medium flex items-center transition-all duration-150",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",className:"mr-2",children:[e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 0 0 0 2h2a1 1 0 1 0 0-2H9z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm3.707-8.293l-3-3a1 1 0 0 0-1.414 1.414L10.586 9.5H7a1 1 0 1 0 0 2h3.586l-1.293 1.293a1 1 0 1 0 1.414 1.414l3-3a1 1 0 0 0 0-1.414z",clipRule:"evenodd"})]}),"🔧 Force Refresh Timezone"]}),m.map((x,R)=>{const S=R===0,C=x===t,j=x==="Asia/Kolkata"||x==="Asia/Calcutta";return e.jsxs("button",{type:"button",onClick:()=>N(x),className:`w-full text-left px-4 py-3 hover:bg-blue-100/60 hover:text-blue-900 flex items-center justify-between transition-all duration-150 ${C?"bg-blue-200/70 text-blue-900 font-medium border-l-4 border-blue-600":"text-gray-800"}`,children:[e.jsxs("span",{children:[Fe(x),S&&e.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-green-100 text-green-800 rounded font-medium",children:"🌍 Your Local Timezone"}),j&&!S&&e.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-orange-100 text-orange-700 rounded",children:"🇮🇳 India"})]}),C&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2 text-blue-600 font-medium text-sm",children:"Selected"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",className:"text-blue-500",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 0 1 0 1.414l-8 8a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 1.414-1.414L8 12.586l7.293-7.293a1 1 0 0 1 1.414 0z",clipRule:"evenodd"})})]})]},x)})]})]}),e.jsxs("button",{onClick:d,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white btn-text rounded-lg shadow-sm hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Test A Job"]})]})]})},Tt=({activeTab:t,onTabChange:r,autoRefresh:i,onAutoRefreshChange:a,onManualRefresh:d,timeRange:n,onTimeRangeChange:u,loading:f})=>{const[c,m]=o.useState(!1),N=o.useRef(null),_=o.useRef(null);o.useEffect(()=>{const v=D=>{N.current&&!N.current.contains(D.target)&&_.current&&!_.current.contains(D.target)&&m(!1)},L=D=>{D.key==="Escape"&&m(!1)};if(c)return document.addEventListener("click",v),document.addEventListener("keydown",L),()=>{document.removeEventListener("click",v),document.removeEventListener("keydown",L)}},[c]);const $=()=>{const v=n.field==="created_at"?"Created":"Updated";if(!n.enabled)return`${v}: All time`;if(n.mode==="relative"){const L=n.relMins;let D="";return L%(24*60)===0?D=`Last ${L/(24*60)}d`:L%60===0?D=`Last ${L/60}h`:D=`Last ${L}m`,`${v} in ${D}`}else{const L=Z=>new Date(Z).toLocaleString(),{fromMs:D,toMs:H}=n.abs,O=D?L(D):"–",ee=H?L(H):"Now";return`${v} from ${O} → ${ee}`}},x=v=>{u({enabled:!0,mode:"relative",relMins:v}),m(!1)},R=v=>{const L=new Date,D=new Date(L.getFullYear(),L.getMonth(),L.getDate());v||D.setDate(D.getDate()-1);const H=v?L.getTime():D.getTime()+24*60*60*1e3-1;u({enabled:!0,mode:"absolute",abs:{fromMs:D.getTime(),toMs:H}}),m(!1)},S=v=>{u({field:v})},C=()=>{u({enabled:!1}),m(!1)},j=()=>{const v=document.getElementById("tr-from-shared"),L=document.getElementById("tr-to-shared"),D=v!=null&&v.value?Date.parse(v.value):null,H=L!=null&&L.value?Date.parse(L.value):null;u({enabled:!0,mode:"absolute",abs:{fromMs:D,toMs:H}}),m(!1)};return e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 bg-gradient-to-r from-gray-50 to-slate-50",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("button",{onClick:()=>r("jobs"),className:`inline-flex items-center gap-2 px-4 py-3 font-medium text-base rounded-t-lg border-b-2 transition-all duration-200 ${t==="jobs"?"text-blue-700 border-blue-600 bg-gradient-to-t from-white to-blue-50 shadow-sm":"text-gray-600 border-transparent hover:text-gray-800 hover:border-gray-300 hover:bg-gradient-to-t hover:from-gray-50 hover:to-gray-100"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Jobs"]}),e.jsxs("button",{onClick:()=>r("agents"),className:`inline-flex items-center gap-2 px-4 py-3 font-medium text-base rounded-t-lg border-b-2 transition-all duration-200 ${t==="agents"?"text-blue-700 border-blue-600 bg-gradient-to-t from-white to-blue-50 shadow-sm":"text-gray-600 border-transparent hover:text-gray-800 hover:border-gray-300 hover:bg-gradient-to-t hover:from-gray-50 hover:to-gray-100"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0 1 12 2.944a11.955 11.955 0 0 1-8.618 3.04A12.02 12.02 0 0 0 3 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Agents"]}),e.jsxs("button",{onClick:()=>r("analytics"),className:`inline-flex items-center gap-2 px-4 py-3 font-medium text-base rounded-t-lg border-b-2 transition-all duration-200 ${t==="analytics"?"text-blue-700 border-blue-600 bg-gradient-to-t from-white to-blue-50 shadow-sm":"text-gray-600 border-transparent hover:text-gray-800 hover:border-gray-300 hover:bg-gradient-to-t hover:from-gray-50 hover:to-gray-100"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2zm0 0V9a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10m-6 0a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2m0 0V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2z"})}),"Analytics"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-white/70 backdrop-blur-sm border border-slate-200 rounded-lg px-3 py-2 shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsxs("label",{className:"form-label flex items-center gap-2 cursor-pointer",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:i,onChange:v=>a(v.target.checked)}),e.jsx("div",{className:"w-10 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-blue-500 peer-checked:to-indigo-600 shadow-inner"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-body-medium text-white",children:"Auto Refresh"}),e.jsx("span",{className:"text-body-small text-tertiary",children:"Updates every 2s"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-px h-8 bg-slate-200 mx-2"}),e.jsxs("button",{onClick:d,disabled:i,className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg btn-text-small transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 ${i?"opacity-40 cursor-not-allowed bg-slate-100 border border-slate-200 text-slate-400":"bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white shadow-sm hover:shadow-md border border-emerald-500"}`,title:i?"Auto refresh is enabled":"Refresh data now",children:[e.jsx("svg",{className:`w-4 h-4 ${f?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{children:f?"Refreshing...":"Refresh"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{ref:_,onClick:()=>m(!c),className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 ${n.enabled?"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 text-blue-800 shadow-sm hover:shadow-md hover:from-blue-100 hover:to-indigo-100 hover:border-blue-300":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 shadow-sm"}`,children:[n.enabled&&e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})}),e.jsx("span",{children:$()}),e.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&e.jsxs("div",{ref:N,className:"absolute right-0 z-50 mt-2 w-[32rem] bg-white border border-gray-200 rounded-xl shadow-xl p-4 space-y-4 backdrop-blur-sm bg-white/95",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"text-heading-3 text-primary mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.586a1 1 0 0 1.707.293l5.414 5.414a1 1 0 0 1.293.707V19a2 2 0 0 1-2 2z"})}),e.jsx("span",{children:"Time Field"})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"radio",name:"tr-field-shared",value:"updated_at",checked:n.field==="updated_at",onChange:v=>S(v.target.value),className:"sr-only peer"}),e.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 rounded-full peer-checked:border-blue-600 peer-checked:bg-blue-600 peer-focus:ring-2 peer-focus:ring-blue-300 transition-all duration-200 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-0 peer-checked:opacity-100 transition-opacity duration-200"})})]}),e.jsx("span",{className:"form-label text-primary group-hover:text-accent transition-colors",children:"Updated At"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"radio",name:"tr-field-shared",value:"created_at",checked:n.field==="created_at",onChange:v=>S(v.target.value),className:"sr-only peer"}),e.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 rounded-full peer-checked:border-blue-600 peer-checked:bg-blue-600 peer-focus:ring-2 peer-focus:ring-blue-300 transition-all duration-200 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-0 peer-checked:opacity-100 transition-opacity duration-200"})})]}),e.jsx("span",{className:"form-label text-primary group-hover:text-accent transition-colors",children:"Created At"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"text-heading-3 text-primary mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsx("span",{children:"Quick Ranges"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsx("button",{onClick:()=>x(15),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 15m"}),e.jsx("button",{onClick:()=>x(60),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 1h"}),e.jsx("button",{onClick:()=>x(240),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 4h"}),e.jsx("button",{onClick:()=>x(1440),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 24h"}),e.jsx("button",{onClick:()=>x(10080),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 7d"}),e.jsx("button",{onClick:()=>x(43200),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 30d"}),e.jsx("button",{onClick:()=>R(!0),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-purple-100 to-violet-100 border border-purple-300 rounded-lg text-purple-800 hover:from-purple-200 hover:to-violet-200 hover:border-purple-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-purple-300",children:"Today"}),e.jsx("button",{onClick:()=>R(!1),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-purple-100 to-violet-100 border border-purple-300 rounded-lg text-purple-800 hover:from-purple-200 hover:to-violet-200 hover:border-purple-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-purple-300",children:"Yesterday"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-lg p-4",children:[e.jsxs("div",{className:"text-heading-3 text-primary mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z"})}),e.jsx("span",{children:"Absolute Range"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label text-primary mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"From Date"]}),e.jsx("input",{id:"tr-from-shared",type:"datetime-local",className:"w-full px-3 py-2.5 border-2 border-orange-200 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-orange-400 transition-all duration-200 bg-white/70 hover:bg-white hover:border-orange-300 text-body shadow-sm backdrop-blur-sm"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label text-primary mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"To Date"]}),e.jsx("input",{id:"tr-to-shared",type:"datetime-local",className:"w-full px-3 py-2.5 border-2 border-orange-200 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-orange-400 transition-all duration-200 bg-white/70 hover:bg-white hover:border-orange-300 text-body shadow-sm backdrop-blur-sm"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t-2 border-slate-200",children:[e.jsxs("button",{onClick:C,className:"inline-flex items-center gap-2 px-4 py-2.5 btn-text text-red-700 bg-gradient-to-r from-red-100 to-pink-100 border-2 border-red-300 rounded-lg hover:from-red-200 hover:to-pink-200 hover:border-red-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0 1 16.138 21H7.862a2 2 0 0 1-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v3M4 7h16"})}),e.jsx("span",{children:"Clear All"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2.5 btn-text text-secondary bg-white border-2 border-slate-300 rounded-lg hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 focus:ring-2 focus:ring-slate-300 shadow-sm hover:shadow-md",children:"Cancel"}),e.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-4 py-2.5 btn-text text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg focus:ring-2 focus:ring-blue-500 border border-blue-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Apply Range"})]})]})]})]})]})]})]})},_t=({jobs:t,timezone:r,timeRange:i,filterJobsByTime:a,onJobClick:d,onTimeRangeClear:n,loading:u})=>{const[f,c]=o.useState({job_id:"",status:"",agent_id:"",rc:"",labels:""}),[m,N]=o.useState({key:"created_at",dir:"desc"}),[_,$]=o.useState(1),[x,R]=o.useState(15),[S,C]=o.useState(!1),[j,v]=o.useState(!1),L=o.useRef(null),D=o.useRef(null);o.useEffect(()=>{const l=T=>{L.current&&!L.current.contains(T.target)&&C(!1),D.current&&!D.current.contains(T.target)&&v(!1)};if(S||j)return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[S,j]);const H=o.useMemo(()=>{let l=[...t];f.job_id&&(l=l.filter(k=>je(k.job_id||"",f.job_id))),f.status&&(l=l.filter(k=>String(k.status||"").toUpperCase()===String(f.status).toUpperCase())),f.agent_id&&(l=l.filter(k=>je(k.agent_id||"",f.agent_id))),f.rc!==""&&(l=l.filter(k=>String(k.rc)===String(f.rc))),f.labels&&(l=l.filter(k=>rt(k.labels,f.labels))),l=a(l);const{key:T,dir:M}=m,b=M==="asc"?1:-1;return l.sort((k,s)=>{const g=k[T]??"",w=s[T]??"";return T.endsWith("_at")?(new Date(g)-new Date(w))*b:typeof g=="number"&&typeof w=="number"?(g-w)*b:String(g).localeCompare(String(w))*b}),l},[t,f,m,a]),O=o.useMemo(()=>{const l=H.length,T=Math.max(1,Math.ceil(l/x)),M=Math.min(_,T),b=(M-1)*x,k=b+x;return{jobs:H.slice(b,k),total:l,pages:T,currentPage:M,start:l?b+1:0,end:Math.min(k,l)}},[H,_,x]),ee=o.useMemo(()=>{const l=[];if(Object.entries(f).forEach(([T,M])=>{M!=null&&String(M).trim()!==""&&l.push({key:T,value:String(M).trim()})}),i.enabled){const T=i.field==="created_at"?"Created":"Updated";let M=`${T}: All time`;if(i.mode==="relative"){const b=i.relMins;let k="";b%(24*60)===0?k=`Last ${b/(24*60)}d`:b%60===0?k=`Last ${b/60}h`:k=`Last ${b}m`,M=`${T} in ${k}`}l.unshift({key:"timerange",value:M})}return l},[f,i]),Z=o.useCallback(l=>{N(T=>({key:l,dir:T.key===l&&T.dir==="asc"?"desc":"asc"})),$(1)},[]),U=o.useCallback((l,T)=>{c(M=>({...M,[l]:T})),$(1)},[]),re=o.useCallback(()=>{c({job_id:"",status:"",agent_id:"",rc:"",labels:""}),$(1)},[]),te=o.useCallback(l=>{if(l==="timerange"){n&&n();return}U(l,"")},[U,n]),p=l=>m.key!==l?"":m.dir==="asc"?"▲":"▼",h=[{value:"",label:"All statuses"},{value:"QUEUED",label:"QUEUED"},{value:"RUNNING",label:"RUNNING"},{value:"SUCCEEDED",label:"SUCCEEDED"},{value:"FAILED",label:"FAILED"}],A=l=>{U("status",l),C(!1)},y=()=>{const l=h.find(T=>T.value===f.status);return l?l.label:"All statuses"};return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-slate-500",children:"Loading jobs..."})}):e.jsxs("div",{children:[ee.length>0&&e.jsx("div",{className:"flex flex-wrap gap-3 mb-4 p-2",children:ee.map(l=>e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-full text-sm font-medium text-blue-800 shadow-sm hover:shadow-md transition-all duration-200 hover:from-blue-100 hover:to-indigo-100 hover:border-blue-300",children:[e.jsx("span",{className:"flex items-center gap-1",children:l.key==="timerange"?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})}),e.jsx("span",{className:"font-semibold",children:l.value})]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-blue-600 font-medium",children:[l.key,":"]}),e.jsx("span",{className:"font-semibold text-blue-900",children:l.value})]})}),e.jsx("button",{onClick:()=>te(l.key),className:"flex items-center justify-center w-5 h-5 rounded-full bg-blue-200 hover:bg-red-200 text-blue-700 hover:text-red-700 transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-300",title:"Remove filter",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},l.key))}),e.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"Rows per page"]}),e.jsxs("div",{className:"relative",ref:D,children:[e.jsx("button",{onClick:()=>v(!j),className:"inline-flex items-center gap-2 px-4 py-2.5 pr-10 bg-white border border-blue-200 rounded-lg text-sm font-medium text-gray-900 hover:bg-blue-50 hover:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer",children:e.jsx("span",{children:x})}),e.jsx("svg",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none transition-transform duration-200 ${j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),j&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-full bg-white border border-blue-200 rounded-lg shadow-lg z-50 overflow-hidden",children:[15,30,50,100,200].map(l=>e.jsxs("button",{onClick:()=>{R(l),$(1),v(!1)},className:`w-full text-left px-4 py-3 text-sm font-medium transition-all duration-150 ${l===x?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"}`,children:[l,l===x&&e.jsx("span",{className:"ml-auto flex items-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},l))})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-slate-600 font-medium bg-white px-3 py-1.5 rounded-lg border border-gray-200 shadow-sm",children:[O.start,"-",O.end," of ",O.total," items"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>$(l=>Math.max(1,l-1)),disabled:O.currentPage<=1,className:"inline-flex items-center justify-center w-8 h-8 bg-white border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 hover:border-gray-400 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:border-gray-300 transition-all duration-200 shadow-sm hover:shadow-md",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("span",{className:"text-xs text-slate-500 px-2",children:[O.currentPage," / ",O.pages]}),e.jsx("button",{onClick:()=>$(l=>Math.min(O.pages,l+1)),disabled:O.currentPage>=O.pages,className:"inline-flex items-center justify-center w-8 h-8 bg-white border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 hover:border-gray-400 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:border-gray-300 transition-all duration-200 shadow-sm hover:shadow-md",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),e.jsx("div",{className:"overflow-auto border border-gray-200 rounded-xl shadow-sm bg-white",style:{maxHeight:"calc(15 * var(--row-h, 40px) + 130px)"},children:e.jsxs("table",{className:"w-full table-cell-text",style:{minWidth:"1400px"},children:[e.jsxs("thead",{className:"sticky top-0 z-10",children:[e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b-2 border-blue-200",children:[e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>Z("job_id"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Job ID"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:p("job_id")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>Z("status"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Status"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:p("status")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>Z("agent_id"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Agent"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:p("agent_id")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group w-20",onClick:()=>Z("rc"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"RC"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:p("rc")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>Z("created_at"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Created"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:p("created_at")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>Z("updated_at"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Updated"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:p("updated_at")})]})}),e.jsx("th",{className:"text-left p-4 table-header-text",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})}),e.jsx("span",{className:"font-semibold text-white",children:"Labels"})]})}),e.jsx("th",{className:"text-left p-4 table-header-text",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsx("span",{className:"font-semibold text-white",children:"Actions"})]})})]}),e.jsxs("tr",{className:"bg-gradient-to-r from-blue-25 to-indigo-25 border-b-2 border-blue-100",children:[e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})})}),e.jsx("input",{value:f.job_id,onChange:l=>U("job_id",l.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"Filter job ID"})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",ref:L,children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})})}),e.jsx("button",{onClick:()=>C(!S),className:"border border-blue-200 rounded-lg pl-10 pr-10 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 cursor-pointer shadow-sm hover:shadow-md text-left",children:y()}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${S?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),S&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gradient-to-r from-blue-25 to-indigo-25 border border-blue-200 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto backdrop-blur-sm",children:h.map(l=>e.jsx("button",{onClick:()=>A(l.value),className:`w-full text-left px-4 py-2.5 text-sm transition-all duration-150 hover:bg-blue-100/60 hover:text-blue-900 ${f.status===l.value?"bg-blue-200/70 text-blue-900 font-medium":"text-gray-800"}`,children:l.label},l.value))})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("input",{value:f.agent_id,onChange:l=>U("agent_id",l.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"Filter agent"})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H7a2 0 0 0-2 2v14a2 2 0 0 0 2 2z"})})}),e.jsx("input",{value:f.rc,onChange:l=>U("rc",l.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"e.g. 0",style:{minWidth:"100px"}})]})}),e.jsx("th",{className:"p-3",children:e.jsx("div",{className:"flex items-center justify-center h-11",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-100 to-indigo-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})})}),e.jsx("th",{className:"p-3",children:e.jsx("div",{className:"flex items-center justify-center h-11",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-100 to-indigo-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 0 0 4.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 0 1-15.357-2m15.357 2H15"})})})})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})})}),e.jsx("input",{value:f.labels,onChange:l=>U("labels",l.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:'key or "k:v"'})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("button",{onClick:re,className:"inline-flex items-center gap-2 px-4 py-2.5 text-xs font-semibold text-red-700 bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-200 rounded-lg hover:from-red-100 hover:to-pink-100 hover:border-red-300 transition-all duration-200 shadow-sm hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-300 backdrop-blur-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0 1 16.138 21H7.862a2 2 0 0 1-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v3M4 7h16"})}),"Clear all"]})})]})]}),e.jsx("tbody",{children:O.jobs.length===0?e.jsx("tr",{children:e.jsx("td",{className:"p-8 text-center",colSpan:"8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-600",children:"No jobs found"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your filters or time range"})]})]})})}):O.jobs.map(l=>e.jsx(zt,{job:l,timezone:r,onJobClick:d},l.job_id))})]})})]})},zt=({job:t,timezone:r,onJobClick:i})=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50 hover:shadow-sm transition-all duration-200 group",children:[e.jsx("td",{className:"p-4 table-cell-mono group-hover:text-slate-900",children:t.job_id}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-semibold shadow-sm status-chip-${t.status}`,children:[t.status==="SUCCEEDED"&&e.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 0 1 0 1.414l-8 8a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 1.414-1.414L8 12.586l7.293-7.293a1 1 0 0 1 1.414 0z",clipRule:"evenodd"})}),t.status==="FAILED"&&e.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 0 1 1.414 0L10 8.586l4.293-4.293a1 1 0 1 1 1.414 1.414L11.414 10l4.293 4.293a1 1 0 0 1-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L8.586 10 4.293 5.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})}),t.status==="RUNNING"&&e.jsx("div",{className:"w-2.5 h-2.5 mr-1.5 rounded-full bg-current animate-pulse"}),t.status==="QUEUED"&&e.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm1-12a1 1 0 1 0-2 0v4a1 1 0 0 0.293.707l2.828 2.829a1 1 0 1 0 1.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsx("span",{className:"status-text",children:t.status})]})}),e.jsx("td",{className:"p-4 table-cell-mono group-hover:text-slate-900",children:t.agent_id||"-"}),e.jsx("td",{className:"p-4 text-center table-cell-text font-medium group-hover:text-slate-900",children:t.rc??"-"}),e.jsx("td",{className:"p-4 text-secondary group-hover:text-white",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-body font-medium",children:we(t.created_at,r)}),e.jsx("span",{className:"text-body-small text-tertiary",children:ye(t.created_at)})]})}),e.jsx("td",{className:"p-4 text-secondary group-hover:text-white",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-body font-medium",children:we(t.updated_at,r)}),e.jsx("span",{className:"text-body-small text-tertiary",children:ye(t.updated_at)})]})}),e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.entries(t.labels||{}).length>0?Object.entries(t.labels||{}).map(([a,d])=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-md status-text text-blue-800 shadow-sm",children:[e.jsxs("span",{className:"text-blue-600",children:[a,":"]}),e.jsx("span",{className:"ml-1 font-semibold",children:d})]},a)):e.jsx("span",{className:"text-tertiary text-body",children:"-"})})}),e.jsx("td",{className:"p-4",children:e.jsxs("button",{onClick:()=>i(t.job_id),className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white btn-text-small rounded-lg shadow-sm hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsx("span",{children:"View Details"})]})})]}),At=({agents:t,jobs:r,timezone:i,timeRange:a,filterJobsByTime:d,onTestJobClick:n,loading:u,refreshAgents:f})=>{const[c,m]=o.useState({agent_id:"",url:"",labels:"",status:"",availability:""}),[N,_]=o.useState({key:"agent_id",dir:"asc"}),[$,x]=o.useState(1),[R,S]=o.useState(15),[C,j]=o.useState(!1),[v,L]=o.useState({show:!1,message:"",type:"info"}),[D,H]=o.useState({}),O=o.useRef(null),ee=20*1e3;o.useEffect(()=>{const s=async()=>{const g={};await Promise.all(t.map(async w=>{try{const W=await Se(`${pe}/jobs?limit=1000&agent_id=${encodeURIComponent(w.agent_id)}`),F=(Array.isArray(W)?W:W.jobs||[]).filter(P=>{if(!a.enabled)return!0;const J=a.field||"updated_at",V=P[J],Q=ge(V);if(isNaN(Q))return!1;if(a.mode==="relative"){const ae=Date.now(),ne=ae-a.relMins*60*1e3;return Q>=ne&&Q<=ae}else{const{fromMs:ae,toMs:ne}=a.abs;return!(ae&&Q<ae||ne&&Q>ne)}});g[w.agent_id]=F.length}catch{g[w.agent_id]=0}})),H(g)};t.length>0&&s()},[t,a]),o.useEffect(()=>{const s=g=>{O.current&&!O.current.contains(g.target)&&j(!1)};if(C)return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[C]);const Z=o.useMemo(()=>{let s=[...t];c.agent_id&&(s=s.filter(B=>je(B.agent_id||"",c.agent_id))),c.url&&(s=s.filter(B=>je(B.url||"",c.url))),c.labels&&(s=s.filter(B=>rt(B.labels,c.labels))),c.status&&(s=s.filter(B=>p(B)===c.status)),c.availability&&(s=s.filter(B=>h(B)===c.availability));const{key:g,dir:w}=N,W=w==="asc"?1:-1;return s.sort((B,F)=>{let P=B[g]??"",J=F[g]??"";return g==="jobs_in_range"&&(P=D[B.agent_id]||0,J=D[F.agent_id]||0),typeof P=="number"&&typeof J=="number"?(P-J)*W:g.endsWith("_at")||g==="last_heartbeat"?(new Date(P)-new Date(J))*W:String(P).localeCompare(String(J))*W}),s},[t,c,N,D]),U=o.useMemo(()=>{const s=Z.length,g=Math.max(1,Math.ceil(s/R)),w=Math.min($,g),W=(w-1)*R,B=W+R;return{agents:Z.slice(W,B),total:s,pages:g,currentPage:w,start:s?W+1:0,end:Math.min(B,s)}},[Z,$,R]),re=o.useMemo(()=>{const s=[];if(Object.entries(c).forEach(([g,w])=>{w!=null&&String(w).trim()!==""&&s.push({key:g,value:String(w).trim()})}),a.enabled){const g=a.field==="created_at"?"Created":"Updated";let w=`${g}: All time`;if(a.mode==="relative"){const W=a.relMins;let B="";W%(24*60)===0?B=`Last ${W/(24*60)}d`:W%60===0?B=`Last ${W/60}h`:B=`Last ${W}m`,w=`${g} in ${B}`}s.unshift({key:"timerange",value:w})}return s},[c,a]),te=o.useCallback(s=>{s!=="timerange"&&y(s,"")},[y]),p=s=>{const g=ge(s.last_heartbeat),w=Date.now();return g&&w-g<ee?s.active?"Registered":"Discovered":"Offline"},h=s=>{const g=ge(s.last_heartbeat),w=Date.now();return g&&w-g<ee&&s.active?"Active":"Inactive"},A=o.useCallback(s=>{_(g=>({key:s,dir:g.key===s&&g.dir==="asc"?"desc":"asc"})),x(1)},[]),y=o.useCallback((s,g)=>{m(w=>({...w,[s]:g})),x(1)},[]),l=o.useCallback(()=>{m({agent_id:"",url:"",labels:"",status:"",availability:""}),x(1)},[]),T=o.useCallback(async s=>{L({show:!0,type:"confirm",message:`Deregister agent ${s}?`,agentId:s})},[]),M=o.useCallback(async s=>{L({show:!0,type:"loading",message:"Processing..."});try{const w=await(await fetch(`${pe}/agents/deregister`,{method:"POST",headers:Me(),body:JSON.stringify({agent_id:s})})).json();w.ok?(L({show:!0,type:"success",message:`Agent ${s} deregistered.`}),setTimeout(()=>L({show:!1}),2500),f()):L({show:!0,type:"error",message:`Error: ${w.error||"Unknown error"}`})}catch(g){L({show:!0,type:"error",message:`Request failed: ${g.message}`})}},[f]),b=s=>N.key!==s?"":N.dir==="asc"?"▲":"▼",k=()=>{const s=a.field==="created_at"?"Created":"Updated";if(!a.enabled)return`Jobs (${s}: All time)`;if(a.mode==="relative"){const g=a.relMins;let w="";return g%(24*60)===0?w=`Last ${g/(24*60)}d`:g%60===0?w=`Last ${g/60}h`:w=`Last ${g}m`,`Jobs (${s} in ${w})`}return`Jobs (${s} in range)`};return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-secondary text-body",children:"Loading agents..."})}):e.jsxs("div",{children:[v.show&&e.jsxs("div",{className:`mb-2 px-3 py-2 rounded text-body ${v.type==="success"?"bg-green-50 text-green-800 border border-green-200":v.type==="error"?"bg-red-50 text-red-800 border border-red-200":v.type==="confirm"?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:[v.message,v.type==="confirm"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>M(v.agentId),className:"ml-2 px-2 py-1 rounded bg-red-100 text-red-700 btn-text-small hover:bg-red-200 transition-colors duration-200",children:"Confirm"}),e.jsx("button",{onClick:()=>L({show:!1}),className:"ml-2 px-2 py-1 rounded bg-slate-100 btn-text-small hover:bg-slate-200 transition-colors duration-200",children:"Cancel"})]})]}),re.length>0&&e.jsx("div",{className:"flex flex-wrap gap-3 mb-4 p-2",children:re.map(s=>e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-full text-sm font-medium text-blue-800 shadow-sm hover:shadow-md transition-all duration-200 hover:from-blue-100 hover:to-indigo-100 hover:border-blue-300",children:[e.jsx("span",{className:"flex items-center gap-1",children:s.key==="timerange"?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})}),e.jsx("span",{className:"font-semibold",children:s.value})]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-blue-600 font-medium",children:[s.key,":"]}),e.jsx("span",{className:"font-semibold text-blue-900",children:s.value})]})}),e.jsx("button",{onClick:()=>te(s.key),className:"flex items-center justify-center w-5 h-5 rounded-full bg-blue-200 hover:bg-red-200 text-blue-700 hover:text-red-700 transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-300",title:"Remove filter",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},s.key))}),e.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"Rows per page"]}),e.jsxs("div",{className:"relative",ref:O,children:[e.jsx("button",{onClick:()=>j(!C),className:"inline-flex items-center gap-2 px-4 py-2.5 pr-10 bg-white border border-blue-200 rounded-lg text-sm font-medium text-gray-900 hover:bg-blue-50 hover:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer",children:e.jsx("span",{children:R})}),e.jsx("svg",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none transition-transform duration-200 ${C?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),C&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-full bg-white border border-blue-200 rounded-lg shadow-lg z-50 overflow-hidden",children:[15,30,50,100,200].map(s=>e.jsxs("button",{onClick:()=>{S(s),x(1),j(!1)},className:`w-full text-left px-4 py-3 text-sm font-medium transition-all duration-150 ${s===R?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"}`,children:[s,s===R&&e.jsx("span",{className:"ml-auto flex items-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},s))})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-slate-600 font-medium bg-white px-3 py-1.5 rounded-lg border border-gray-200 shadow-sm",children:[U.start,"-",U.end," of ",U.total," items"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>x(s=>Math.max(1,s-1)),disabled:U.currentPage<=1,className:"inline-flex items-center justify-center w-8 h-8 bg-white border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 hover:border-gray-400 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:border-gray-300 transition-all duration-200 shadow-sm hover:shadow-md",title:"Previous page",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("span",{className:"text-caption text-tertiary px-2",children:[U.currentPage," / ",U.pages]}),e.jsx("button",{onClick:()=>x(s=>Math.min(U.pages,s+1)),disabled:U.currentPage>=U.pages,className:"inline-flex items-center justify-center w-8 h-8 bg-white border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 hover:border-gray-400 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:border-gray-300 transition-all duration-200 shadow-sm hover:shadow-md",title:"Next page",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),e.jsx("div",{className:"overflow-auto border border-gray-200 rounded-xl shadow-sm bg-white",style:{maxHeight:"calc(15 * var(--row-h, 40px) + 130px)"},children:e.jsxs("table",{className:"w-full table-cell-text",style:{minWidth:"1400px"},children:[e.jsxs("thead",{className:"sticky top-0 z-10",children:[e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b-2 border-blue-200",children:[e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>A("agent_id"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Agent ID"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:b("agent_id")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>A("url"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"URL"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:b("url")})]})}),e.jsx("th",{className:"text-left p-4 table-header-text",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})}),e.jsx("span",{className:"font-semibold text-white",children:"Labels"})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>A("status"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Status"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:b("status")})]})}),e.jsx("th",{className:"text-left p-4 table-header-text",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsx("span",{className:"font-semibold text-white",children:"Availability"})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>A("last_heartbeat"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Last Heartbeat"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:b("last_heartbeat")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>A("jobs_in_range"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:k()}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:b("jobs_in_range")})]})}),e.jsx("th",{className:"text-left p-4 table-header-text",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})}),e.jsx("span",{className:"font-semibold text-white",children:"Actions"})]})})]}),e.jsxs("tr",{className:"bg-gradient-to-r from-blue-25 to-indigo-25 border-b-2 border-blue-100",children:[e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("input",{value:c.agent_id,onChange:s=>y("agent_id",s.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"Filter agent ID"})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),e.jsx("input",{value:c.url,onChange:s=>y("url",s.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"Filter URL"})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})})}),e.jsx("input",{value:c.labels,onChange:s=>y("labels",s.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"key or 'k:v'"})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("select",{value:c.status,onChange:s=>y("status",s.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-10 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 cursor-pointer shadow-sm hover:shadow-md appearance-none",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{children:"Registered"}),e.jsx("option",{children:"Discovered"}),e.jsx("option",{children:"Offline"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsxs("select",{value:c.availability,onChange:s=>y("availability",s.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-10 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 cursor-pointer shadow-sm hover:shadow-md appearance-none",children:[e.jsx("option",{value:"",children:"All Availability"}),e.jsx("option",{children:"Active"}),e.jsx("option",{children:"Inactive"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),e.jsx("th",{className:"p-3"}),e.jsx("th",{className:"p-3"}),e.jsx("th",{className:"p-3",children:e.jsxs("button",{onClick:l,className:"inline-flex items-center gap-2 px-4 py-2.5 text-xs font-semibold text-red-800 bg-gradient-to-r from-red-100 to-pink-100 border-2 border-red-300 rounded-lg hover:from-red-200 hover:to-pink-200 hover:border-red-400 transition-all duration-200 shadow-md hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-red-400 backdrop-blur-sm transform hover:scale-105",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0 1 16.138 21H7.862a2 2 0 0 1-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v3M4 7h16"})}),"Clear all"]})})]})]}),e.jsx("tbody",{children:U.agents.length===0?e.jsx("tr",{children:e.jsx("td",{className:"p-8 text-center",colSpan:"8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-600",children:"No agents found"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your filters or check back later"})]})]})})}):U.agents.map((s,g)=>e.jsx(Dt,{agent:s,timezone:i,jobCount:D[s.agent_id]||0,getStatus:p,getAvailability:h,onTestJobClick:n,onDeregisterClick:T},s.agent_id))})]})})]})},Dt=({agent:t,timezone:r,jobCount:i,getStatus:a,getAvailability:d,onTestJobClick:n,onDeregisterClick:u})=>{const f=a(t),c=d(t),m=f==="Registered"&&c==="Active";return e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50 hover:shadow-sm transition-all duration-200 group",children:[e.jsx("td",{className:"p-4 table-cell-mono group-hover:text-slate-900",children:t.agent_id}),e.jsx("td",{className:"p-4 table-cell-mono text-blue-600 hover:text-blue-800 group-hover:text-slate-900",children:t.url}),e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.entries(t.labels||{}).length>0?Object.entries(t.labels||{}).map(([N,_])=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-md status-text text-blue-800 shadow-sm",children:[e.jsxs("span",{className:"text-blue-600",children:[N,":"]}),e.jsx("span",{className:"ml-1 font-semibold",children:_})]},N)):e.jsx("span",{className:"text-tertiary text-body",children:"-"})})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-semibold shadow-sm ${f==="Registered"?"bg-green-100 text-green-800 border border-green-200":f==="Discovered"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-red-100 text-red-800 border border-red-200"}`,children:f})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${c==="Active"?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"table-cell-text font-medium",children:c})]})}),e.jsx("td",{className:"p-4 text-secondary group-hover:text-white",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-body font-medium",children:we(t.last_heartbeat,r)}),e.jsx("span",{className:"text-body-small text-tertiary",children:ye(t.last_heartbeat)})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold",children:i})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>n(t.agent_id),disabled:!m,className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1 ${m?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-300 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed focus:ring-gray-300"}`,title:m?"Submit a Test Job":"Test Job can only be submitted for Registered & Active agents",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M19 10a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs font-semibold",children:"Test Job"})]}),f==="Registered"&&e.jsxs("button",{onClick:()=>u(t.agent_id),className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white rounded-lg shadow-sm hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-300 focus:ring-offset-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),e.jsx("span",{className:"text-xs font-semibold",children:"Deregister"})]})]})})]})};typeof window<"u"&&(window.toTs=ge);const st=(t,r)=>{if(t===r)return!0;if(t==null||r==null)return!1;if(typeof t!="object"||typeof r!="object")return t===r;const i=Object.keys(t),a=Object.keys(r);if(i.length!==a.length)return!1;for(let d of i)if(!a.includes(d)||!st(t[d],r[d]))return!1;return!0},$t=({jobs:t,filterJobsByTime:r,autoRefresh:i,timezone:a})=>{const d=o.useRef(null),n=o.useRef(null),u=o.useRef(null),f=o.useRef(null),c=o.useRef(null),m=o.useRef(null),N=o.useRef(null),_=o.useRef(null),$=o.useRef(null),[x,R]=o.useState(!1),[S,C]=o.useState(!0),[j,v]=o.useState(null),[L,D]=o.useState({dualGauge:null}),H=o.useCallback(p=>p.labels&&p.labels["job-type"]==="test"?"Test Job":"Airflow Job",[]);o.useEffect(()=>{if(typeof window<"u"&&window.d3){R(!0),C(!1);return}const p=document.createElement("script");return p.src="https://d3js.org/d3.v7.min.js",p.async=!0,p.onload=()=>{R(!0),C(!1)},p.onerror=()=>{console.error("Failed to load D3.js"),v("Failed to load visualization library"),C(!1)},document.head.appendChild(p),()=>{const h=document.querySelector('script[src="https://d3js.org/d3.v7.min.js"]');h&&document.head.removeChild(h)}},[]);const O=o.useCallback(p=>{const h=N.current;if(!h)return;const A=p.filter(l=>H(l)==="Test Job").length,y=p.filter(l=>H(l)==="Airflow Job").length;A===0&&y===0?h.innerHTML=`
        <div class="bg-gray-50 rounded-lg p-4 text-center">
          <div class="text-gray-500 text-sm">No jobs to display</div>
        </div>
      `:h.innerHTML=`
        <div class="bg-white rounded-lg p-4 border border-gray-200">
          <div class="text-lg font-semibold text-gray-800 mb-3">Job Type Summary</div>
          <div class="space-y-2">
            <span class="text-sm">Test Jobs: ${A}</span>
            <br>
            <span class="text-sm">Airflow Jobs: ${y}</span>
          </div>
        </div>
      `},[H]),ee=o.useCallback(p=>{if(!n.current)return;if(p.length===0){const F=n.current;F.innerHTML=`
        <div class="modern-gauge-container" style="position: relative; width: 320px; height: 180px; display: flex; align-items: center; justify-content: center; gap: 24px; font-family: system-ui, -apple-system, sans-serif;">
          <!-- Circular Progress Ring -->
          <div style="position: relative; width: 160px; height: 160px;">
            <svg width="160" height="160" viewBox="0 0 160 160" style="transform: rotate(-90deg);">
              <circle cx="80" cy="80" r="70" fill="none" stroke="#f3f4f6" stroke-width="12"></circle>
              <circle cx="80" cy="80" r="70" fill="none" stroke="#f3f4f6" stroke-width="12" stroke-dasharray="440" stroke-dashoffset="440"></circle>
              <defs>
                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#e5e7eb;stop-opacity:1" />
                  <stop offset="100%" style="stop-color:#d1d5db;stop-opacity:1" />
                </linearGradient>
              </defs>
            </svg>
            <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
              <div style="font-size: 2.8rem; font-weight: 700; color: #9ca3af; line-height: 1; margin-bottom: 4px;">0%</div>
              <div style="font-size: 0.85rem; color: #6b7280; line-height: 1.1; font-weight: 500;">No Jobs</div>
            </div>
          </div>
          <div style="display: flex; flex-direction: column; gap: 16px; align-items: flex-start;">
            <div style="text-align: left;">
              <div style="font-size: 1.5rem; font-weight: 700; color: #9ca3af; line-height: 1;">0</div>
              <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Total Jobs</div>
            </div>
            <div style="text-align: left;">
              <div style="font-size: 1.5rem; font-weight: 700; color: #9ca3af; line-height: 1;">0</div>
              <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Successful</div>
            </div>
            <div style="text-align: left;">
              <div style="font-size: 1.5rem; font-weight: 700; color: #9ca3af; line-height: 1;">0</div>
              <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Failed</div>
            </div>
          </div>
        </div>
      `;return}const h=p.length,A=p.filter(F=>F.status==="SUCCEEDED").length,y=p.filter(F=>F.status==="FAILED").length;p.filter(F=>F.status==="RUNNING").length;const l=h?A/h:0,T=Math.round(l*100),M=l,b=T,k=h;console.log("🎯 Modern Gauge - Success Rate:",b+"%","of",k,"jobs");const s={total:k,succeeded:A,percent:b},g=!L.dualGauge||!st(s,L.dualGauge),w=n.current;if(!w)return;w.innerHTML=`
      <div class="modern-gauge-container" style="position: relative; width: 320px; height: 180px; display: flex; align-items: center; justify-content: center; gap: 24px; font-family: system-ui, -apple-system, sans-serif;">
        <!-- Circular Progress Ring -->
        <div style="position: relative; width: 160px; height: 160px;">
          <svg width="160" height="160" viewBox="0 0 160 160" style="transform: rotate(-90deg);">
            <!-- Background Circle -->
            <circle 
              cx="80" 
              cy="80" 
              r="70" 
              fill="none" 
              stroke="#f3f4f6" 
              stroke-width="12"
            ></circle>
            <!-- Progress Circle -->
            <circle 
              cx="80" 
              cy="80" 
              r="70" 
              fill="none" 
              stroke="url(#gradient)" 
              stroke-width="12" 
              stroke-linecap="round"
              stroke-dasharray="440"
              stroke-dashoffset="440"
              class="progress-circle"
              style="transition: stroke-dashoffset 1.5s cubic-bezier(0.4, 0, 0.2, 1);"
            ></circle>
            <!-- Gradient Definition -->
            <defs>
              <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
              </linearGradient>
            </defs>
          </svg>
          
          <!-- Center Content -->
          <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
            <div class="gauge-percentage" style="font-size: 2.8rem; font-weight: 700; color: #1f2937; line-height: 1; margin-bottom: 4px; display: block;">0%</div>
            <div style="font-size: 0.85rem; color: #6b7280; line-height: 1.1; font-weight: 500; display: block;">Success Rate</div>
          </div>
        </div>
        
        <!-- Stats Column (Right Side) -->
        <div style="display: flex; flex-direction: column; gap: 16px; align-items: flex-start;">
          <div style="text-align: left;">
            <div class="total-jobs" style="font-size: 1.5rem; font-weight: 700; color: #1f2937; line-height: 1;">${k}</div>
            <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Total Jobs</div>
          </div>
          <div style="text-align: left;">
            <div class="successful-jobs" style="font-size: 1.5rem; font-weight: 700; color: #10b981; line-height: 1;">${A}</div>
            <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Successful</div>
          </div>
          <div style="text-align: left;">
            <div class="failed-jobs" style="font-size: 1.5rem; font-weight: 700; color: #ef4444; line-height: 1;">${y}</div>
            <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Failed</div>
          </div>
        </div>
      </div>
    `;const W=w.querySelector(".progress-circle"),B=w.querySelector(".gauge-percentage");if(!g){const F=2*Math.PI*70,P=F-M*F;W.style.strokeDashoffset=P,B.textContent=b+"%",D(J=>({...J,dualGauge:s}));return}D(F=>({...F,dualGauge:s})),console.log("🎯 Animating Modern Gauge to:",b+"%"),W.style.strokeDashoffset="440",B.textContent="0%",setTimeout(()=>{const F=2*Math.PI*70,P=F-M*F;W.style.strokeDashoffset=P;let J=0;const V=b/60,Q=setInterval(()=>{J+=V,J>=b&&(J=b,clearInterval(Q),console.log("✅ Modern Gauge Animation Complete:",b+"%")),B.textContent=Math.round(J)+"%"},25)},100)},[]),Z=o.useCallback(p=>{if(!d.current){console.log("❌ Chart container ref not available");return}if(!window.d3){console.log("❌ D3.js not loaded yet");return}console.log("📊 Rendering bar chart with",p.length,"jobs");const h=d.current;if(h.innerHTML="",p.length===0){console.log("📊 No jobs data - showing empty state"),h.innerHTML=`
        <div style="display: flex; align-items: center; justify-content: center; height: 100%; min-height: 200px; color: #9ca3af; font-size: 1.1rem; font-weight: 500;">
          <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">📊</div>
            <div>No job data available for the selected time range</div>
            <div style="font-size: 0.9rem; color: #6b7280; margin-top: 0.5rem;">Try selecting a different time period</div>
          </div>
        </div>
      `;return}const y=(E=>{const q=E;console.log("🔍 Processing",q.length,"jobs for chart data");const oe=q.map(K=>ge(K.updated_at||K.created_at)).filter(K=>Number.isFinite(K));if(console.log("📅 Valid timestamps found:",oe.length),!oe.length)return console.log("❌ No valid timestamps found in jobs"),[];const X=Math.min(...oe),G=Math.max(...oe),le=G-X;let Y;le<=6*60*60*1e3?Y=15*60*1e3:le<=48*60*60*1e3?Y=60*60*1e3:le<=7*24*60*60*1e3?Y=6*60*60*1e3:Y=24*60*60*1e3;const se={},ve=Math.floor(X/Y)*Y,ue=Math.ceil(G/Y)*Y;for(let K=ve;K<=ue;K+=Y)se[K]={timestamp:new Date(K),"Test Jobs":0,"Airflow Jobs":0};q.forEach(K=>{const Ne=ge(K.updated_at||K.created_at);if(Number.isFinite(Ne)){const _e=Math.floor(Ne/Y)*Y;if(se[_e]){const Oe=H(K);se[_e][Oe]=(se[_e][Oe]||0)+1}}});const ie=Object.values(se).sort((K,Ne)=>K.timestamp-Ne.timestamp);return console.log("📊 Chart data created:",ie.length,"time bins"),ie})(p);if(y.length===0){console.log("❌ No chart data created - showing empty state"),h.innerHTML=`
        <div style="display: flex; align-items: center; justify-content: center; height: 100%; min-height: 200px; color: #9ca3af; font-size: 1.1rem; font-weight: 500;">
          <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">📊</div>
            <div>Unable to process job data for chart</div>
            <div style="font-size: 0.9rem; color: #6b7280; margin-top: 0.5rem;">Check if jobs have valid timestamps</div>
          </div>
        </div>
      `;return}const l=h.getBoundingClientRect(),T=Math.max(500,(l.width||800)-20),M=Math.max(250,(l.height||300)-10);console.log("📐 Chart dimensions:",{containerWidth:T,containerHeight:M,rectWidth:l.width});const b={top:20,right:20,bottom:70,left:50},k=T-b.left-b.right,s=M-b.top-b.bottom,w=window.d3.select(h).append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${k+b.left+b.right} ${s+b.top+b.bottom}`).attr("preserveAspectRatio","xMidYMid meet").style("background","transparent").style("display","block").style("max-width","100%").style("height","100%").append("g").attr("transform",`translate(${b.left},${b.top})`),W=window.d3.scaleTime().domain(window.d3.extent(y,E=>E.timestamp)).range([0,k]),B=40,F=k/y.length*.6,P=Math.max(8,Math.min(B,F)),J=window.d3.scaleLinear().domain([0,window.d3.max(y,E=>E["Test Jobs"]+E["Airflow Jobs"])]).range([s,0]),Q=window.d3.stack().keys(["Test Jobs","Airflow Jobs"])(y),ae=window.d3.scaleOrdinal().domain(["Test Jobs","Airflow Jobs"]).range(["#3b82f6","#22c55e"]),ne=window.d3.axisLeft(J).tickSize(-k).tickFormat("");w.append("g").attr("class","grid").style("opacity",.3).style("stroke","#e5e7eb").call(ne);const be=window.d3.select(h).append("div").style("opacity",0).style("position","absolute").style("background","#fff").style("color","#334155").style("padding","8px 12px").style("border-radius","6px").style("font-size","14px").style("box-shadow","0 2px 8px rgba(0,0,0,0.12)").style("border","1px solid #888").style("pointer-events","none").style("z-index","1000");w.selectAll(".serie").data(Q).enter().append("g").attr("class","serie").attr("fill",E=>ae(E.key)).selectAll("rect").data(E=>E).enter().append("rect").attr("x",E=>W(E.data.timestamp)-P/2).attr("y",E=>J(E[1])).attr("height",E=>J(E[0])-J(E[1])).attr("width",P).style("opacity",.9).on("mouseover",function(E,q){const oe=window.d3.select(this.parentNode).datum().key,X=q[1]-q[0],G=q.data.timestamp,le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Y=`${G.getDate()}-${le[G.getMonth()]}-${G.getFullYear()}`,se=`${G.getHours().toString().padStart(2,"0")}:${G.getMinutes().toString().padStart(2,"0")}`,ve=q.data["Test Jobs"]+q.data["Airflow Jobs"];be.transition().duration(200).style("opacity",.9),be.html(`<b>${Y} ${se}</b><br>${oe}: <b>${X}</b><br>Total: <b>${ve}</b>`).style("left",E.pageX+18+"px").style("top",E.pageY-10+"px")}).on("mouseout",function(){be.transition().duration(500).style("opacity",0)});const ke=window.d3.extent(y,E=>E.timestamp),xe=ke[1]-ke[0];let fe,ce;xe<=6*60*60*1e3?(fe=window.d3.timeFormat("%H:%M"),ce=window.d3.timeMinute.every(30)):xe<=2*24*60*60*1e3?(fe=window.d3.timeFormat("%d %b %H:%M"),ce=window.d3.timeHour.every(4)):xe<=7*24*60*60*1e3?(fe=window.d3.timeFormat("%d-%b"),ce=window.d3.timeDay.every(1)):(fe=window.d3.timeFormat("%d-%b-%Y"),ce=window.d3.timeDay.every(Math.ceil(xe/(7*24*60*60*1e3))));const Te=window.d3.axisBottom(W).ticks(ce).tickFormat(fe);w.append("g").attr("transform",`translate(0,${s})`).call(Te).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),w.append("g").call(window.d3.axisLeft(J));const I=w.selectAll(".legend").data(ae.domain().slice()).enter().append("g").attr("class","legend").attr("transform",(E,q)=>`translate(${k-120},${q*20})`);I.append("rect").attr("x",0).attr("width",18).attr("height",18).style("fill",ae),I.append("text").attr("x",24).attr("y",9).attr("dy","0.35em").style("text-anchor","start").style("font-size","12px").text(E=>E)},[H]),U=o.useCallback(p=>{if(!u.current||!window.d3)return;const h=u.current;if(h.innerHTML="",p.length===0){h.innerHTML=`
        <div style="display: flex; align-items: center; justify-content: center; height: 100%; min-height: 288px; color: #9ca3af; font-size: 1.1rem; font-weight: 500;">
          <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">🔥</div>
            <div>No activity data available</div>
            <div style="font-size: 0.9rem; color: #6b7280; margin-top: 0.5rem;">Jobs will appear here when they match your time filter</div>
          </div>
        </div>
      `;return}const y=(I=>{const E=[],q={},oe=new Set;if(I.forEach(X=>{const G=new Date(X.created_at||X.updated_at),le=G.getDay(),Y=G.getHours(),se=`${le}-${Y}`;q[se]=(q[se]||0)+1,oe.add(se)}),I.length<10&&oe.size>0){const X=new Set,G=new Set;for(const ue of oe){const[ie,K]=ue.split("-").map(Number);G.add(ie),X.add(K)}const le=Math.max(0,Math.min(...X)-2),Y=Math.min(23,Math.max(...X)+2),se=Math.max(0,Math.min(...G)-1),ve=Math.min(6,Math.max(...G)+1);for(let ue=se;ue<=ve;ue++)for(let ie=le;ie<=Y;ie++)E.push({day:ue,hour:ie,value:q[`${ue}-${ie}`]||0})}else for(let X=0;X<7;X++)for(let G=0;G<24;G++)E.push({day:X,hour:G,value:q[`${X}-${G}`]||0});return E})(p),l=window.d3.max(y,I=>I.value),T=h.getBoundingClientRect(),M={top:45,right:40,bottom:30,left:80},b=Math.max(T.width-M.left-M.right,600),k=Math.max(T.height-M.top-M.bottom,150),s=[...new Set(y.map(I=>I.hour))],g=[...new Set(y.map(I=>I.day))],w=s.length,W=g.length,B=b/(w||24),F=Math.min(k/(W||7),B*.6),P=B,J=F,V=P*(w||24),Q=J*(W||7),ne=window.d3.select(h).append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${V+M.left+M.right} ${Q+M.top+M.bottom}`).attr("preserveAspectRatio","xMidYMid meet").append("g").attr("transform",`translate(${M.left},${M.top})`),be=window.d3.scaleLinear().domain([0,l||10]).range(["#e5e7eb","#22c55e"]),ke=Math.min(...s),xe=Math.min(...g);ne.selectAll(".cell").data(y).enter().append("rect").attr("class","cell").attr("x",I=>(I.hour-ke)*P).attr("y",I=>(I.day-xe)*J).attr("width",P*.95).attr("height",J*.9).attr("rx",3).attr("fill",I=>be(I.value)).style("cursor","pointer").on("mouseover",function(I,E){const q=window.d3.select("body").append("div").attr("class","heatmap-tooltip").style("position","absolute").style("background","rgba(0,0,0,0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index","1000"),oe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];q.html(`${oe[E.day]} ${E.hour}:00<br/>${E.value} jobs`).style("left",I.pageX+10+"px").style("top",I.pageY-10+"px")}).on("mouseout",function(){window.d3.selectAll(".heatmap-tooltip").remove()});const fe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ce=Math.max(Math.min(J*.6,14),10);ne.selectAll(".day-label").data(fe).enter().append("text").attr("class","day-label").attr("x",-10).attr("y",(I,E)=>E*J+J/2).attr("dy","0.35em").style("text-anchor","end").style("font-size",ce+"px").style("font-weight","500").style("fill","#4b5563").text(I=>I);const Te=P>25?window.d3.range(0,24,2):window.d3.range(0,24,3);ne.selectAll(".hour-label").data(Te).enter().append("text").attr("class","hour-label").attr("x",I=>I*P+P/2).attr("y",-15).style("text-anchor","middle").style("font-size",Math.min(ce,12)+"px").style("font-weight","500").style("fill","#4b5563").text(I=>`${I}:00`)},[]),re=o.useCallback((p,h,A,y)=>{if(!h.current||!window.d3)return;const l=h.current;l.innerHTML="";const T=y?p.filter(y):p;if(!T.length){l.innerHTML=`
        <div class="flex items-center justify-center h-48 text-gray-500">
          No ${A.toLowerCase()} to display
        </div>
      `;return}const M=T.reduce((V,Q)=>(V[Q.status]=(V[Q.status]||0)+1,V),{}),b=Object.entries(M).map(([V,Q])=>({label:V,value:Q})),k=200,s=200,g=Math.min(k,s)/2,W=window.d3.select(l).append("svg").attr("width",k).attr("height",s).append("g").attr("transform",`translate(${k/2},${s/2})`),B=window.d3.scaleOrdinal().domain(["SUCCEEDED","FAILED","RUNNING"]).range(["#22c55e","#ef4444","#f59e0b"]),F=window.d3.pie().value(V=>V.value),P=window.d3.arc().innerRadius(g*.4).outerRadius(g*.8),J=W.selectAll(".arc").data(F(b)).enter().append("g").attr("class","arc");J.append("path").attr("d",P).attr("fill",V=>B(V.data.label)),J.append("text").attr("transform",V=>`translate(${P.centroid(V)})`).attr("dy","0.35em").style("text-anchor","middle").style("font-size","12px").style("font-weight","bold").style("fill","white").text(V=>V.data.value)},[]),te=o.useCallback((p,h,A,y)=>{if(!h.current)return;const l=h.current,T=y?p.filter(y):p;if(!T.length){l.innerHTML=`
        <div class="text-center text-gray-500 py-4">
          No ${A.toLowerCase()} to display
        </div>
      `;return}const M=T.reduce((s,g)=>(s[g.status]=(s[g.status]||0)+1,s),{}),b={SUCCEEDED:"#22c55e",FAILED:"#ef4444",RUNNING:"#f59e0b"},k=Object.entries(M).map(([s,g])=>`
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full mr-2" style="background-color: ${b[s]}"></div>
          <span class="text-sm">${s}</span>
        </div>
        <span class="text-sm font-medium">${g}</span>
      </div>
    `).join("");l.innerHTML=`
      <div class="bg-white rounded-lg p-4 border border-gray-200">
        <div class="text-lg font-semibold text-gray-800 mb-3">${A}</div>
        <div class="space-y-2">
          ${k}
        </div>
        <div class="mt-3 pt-2 border-t border-gray-200">
          <div class="flex justify-between items-center">
            <span class="text-sm font-medium">Total</span>
            <span class="text-sm font-medium">${T.length}</span>
          </div>
        </div>
      </div>
    `},[]);return o.useEffect(()=>{if(!x||S)return;const p=r?r(t):t;console.log("📊 Analytics Tab - Rendering charts with",p.length,"filtered jobs (",t.length,"total )"),ee(p),Z(p),U(p),O(p),re(p,f,"Job Types",null),re(p,c,"Test Jobs",h=>H(h)==="Test Job"),re(p,m,"Airflow Jobs",h=>H(h)==="Airflow Job"),te(p,N,"All Jobs",null),te(p,_,"Test Jobs",h=>H(h)==="Test Job"),te(p,$,"Airflow Jobs",h=>H(h)==="Airflow Job")},[x,t,S,r,ee,Z,U,re,te,O,H]),S?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading analytics..."})})}):j?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-red-500",children:j})})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex gap-6 h-80",children:[e.jsxs("div",{className:"w-1/5 bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Total Jobs & Success Rate"}),e.jsx("div",{ref:n,className:"flex items-center justify-center h-full"})]}),e.jsxs("div",{className:"w-4/5 bg-white rounded-lg shadow-sm border border-gray-200 p-4 overflow-hidden",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Test Jobs vs Airflow Jobs Over Time"}),e.jsx("div",{ref:d,className:"w-full",style:{height:"calc(100% - 3rem)"}})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Job Activity Heatmap: 24-Hour Timeline by Day of Week"}),e.jsx("div",{ref:u,className:"w-full h-72 min-h-[288px]"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"All Jobs Distribution"}),e.jsx("div",{ref:f,className:"flex justify-center mb-4"}),e.jsx("div",{ref:N})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"Test Jobs Status"}),e.jsx("div",{ref:c,className:"flex justify-center mb-4"}),e.jsx("div",{ref:_})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"Airflow Jobs Status"}),e.jsx("div",{ref:m,className:"flex justify-center mb-4"}),e.jsx("div",{ref:$})]})]})]})},Et=({jobId:t,jobs:r,timezone:i,onClose:a})=>{const[d,n]=o.useState(null),[u,f]=o.useState(""),[c,m]=o.useState(!0),[N,_]=o.useState(!0),$=o.useRef(null),x=o.useRef(null),R=r.find(j=>j.job_id===t);o.useEffect(()=>{const j=v=>{v.key==="Escape"&&a()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[a]),o.useEffect(()=>{if(!t)return;const j=async()=>{try{_(!0);const[v,L]=await Promise.all([Se(`${pe}/status/${t}`),fetch(`${pe}/logs/${t}`,{headers:Me()})]),D=await L.text();n(v),f(D),x.current&&(x.current.scrollTop=x.current.scrollHeight)}catch(v){console.error("Failed to fetch job data:",v)}finally{_(!1)}};return j(),c&&($.current=setInterval(j,2e3)),()=>{$.current&&clearInterval($.current)}},[t,c]);const S=async()=>{try{await navigator.clipboard.writeText(u)}catch(j){console.error("Failed to copy logs:",j)}},C={...R,...d};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden border border-gray-100",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-100",children:[e.jsxs("h3",{className:"text-heading-2 text-primary flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"})}),"Job ",t]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200 flex items-center justify-center",title:"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),N?e.jsx("div",{className:"text-sm text-gray-500 p-4 bg-gray-50 rounded-lg border border-gray-200",children:"Loading job details..."}):e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"form-label",children:"Status:"}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold shadow-sm status-chip-${C.status}`,children:[C.status==="SUCCEEDED"&&e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),C.status==="FAILED"&&e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),C.status==="RUNNING"&&e.jsx("div",{className:"w-2 h-2 mr-1.5 rounded-full bg-current animate-pulse"}),C.status==="QUEUED"&&e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm1-12a1 1 0 1 0-2 0v4a1 1 0 0 0.293.707l2.828 2.829a1 1 0 1 0 1.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),C.status]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"form-label",children:"Agent:"}),e.jsx("span",{className:"text-mono bg-blue-50 px-2 py-1 rounded border",children:C.agent_id||"-"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"form-label",children:"RC:"}),e.jsx("span",{className:"text-mono bg-gray-100 px-2 py-1 rounded",children:C.rc??"-"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Created:"}),e.jsxs("div",{className:"text-secondary text-body-small mt-1",children:[we(C.created_at,i)," · ",ye(C.created_at)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Updated:"}),e.jsxs("div",{className:"text-secondary text-body-small mt-1",children:[we(C.updated_at,i)," · ",ye(C.updated_at)]})]})]})]}),e.jsx("div",{className:"col-span-1 md:col-span-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Labels:"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[Object.entries(C.labels||{}).map(([j,v])=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-md status-text text-emerald-800 shadow-sm",children:[e.jsxs("span",{className:"text-emerald-600",children:[j,":"]}),e.jsx("span",{className:"ml-1 font-semibold",children:v})]},j)),Object.keys(C.labels||{}).length===0&&e.jsx("span",{className:"text-tertiary text-body italic",children:"No labels"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Log path:"}),e.jsx("div",{className:"text-mono bg-gray-100 px-2 py-1 rounded border mt-1 break-all",children:C.log_path||"-"})]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h4",{className:"text-heading-3 text-primary flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Logs"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 text-gray-700 btn-text rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1",title:"Copy logs",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]}),e.jsxs("label",{className:"text-sm flex items-center gap-2 text-gray-700",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2",checked:c,onChange:j=>m(j.target.checked)}),"Auto-follow"]})]})]}),e.jsx("pre",{ref:x,className:"p-4 rounded-lg border border-gray-200 overflow-auto h-64 text-xs whitespace-pre-wrap break-words font-mono bg-gray-900 text-green-400 shadow-inner",children:u||"No logs available..."})]})]})})}):null},Rt=({agents:t,preselectedAgent:r,onClose:i,onJobsTabClick:a,onJobSubmitted:d})=>{const[n,u]=o.useState(r||""),[f,c]=o.useState("echo HELLO && sleep 2 && echo DONE"),[m,N]=o.useState("{}"),[_,$]=o.useState(""),[x,R]=o.useState(!1),[S,C]=o.useState({show:!1,message:"",type:"info"}),[j,v]=o.useState(!1),L=o.useRef(null);o.useEffect(()=>{u(r||"")},[r]),o.useEffect(()=>{const h=A=>{L.current&&!L.current.contains(A.target)&&v(!1)};if(j)return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[j]),o.useEffect(()=>{const h=A=>{A.key==="Escape"&&i()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[i]);const D=o.useCallback(h=>{if(!h)return null;const A=t.find(M=>M.agent_id===h);if(!A)return"not-found";const y=A.last_heartbeat?Date.parse(A.last_heartbeat):0,l=Date.now(),T=2*60*1e3;return A.active&&y&&l-y<T?"registered":y&&l-y<T?"discovered":"offline"},[t]),H=D(n),O=!n||H==="registered",ee=[{value:"",label:"(Any agent via labels)"},...t.map(h=>({value:h.agent_id,label:h.agent_id}))],Z=h=>{u(h),v(!1)},U=()=>{const h=ee.find(A=>A.value===n);return h?h.label:"(Any agent via labels)"},te=(()=>{if(!n)return null;const h=D(n);let y=`Agent status: ${n} is `,l="";switch(h){case"registered":y+="Registered",l="bg-green-50 text-green-800 border border-green-200";break;case"discovered":y+="Discovered",l="bg-yellow-50 text-yellow-800 border border-yellow-200";break;case"offline":y+="Offline",l="bg-red-50 text-red-700 border border-red-200";break;case"not-found":y+="Not Found",l="bg-red-50 text-red-700 border border-red-200";break;default:return null}return{message:y,colorClass:l}})(),p=async()=>{if(!(x||!O)){R(!0),$("submitting..."),C({show:!1});try{let h={};try{h=JSON.parse(m||"{}")}catch{throw new Error("Invalid JSON in labels field")}h["job-type"]="test";const A={...h};delete A["job-type"];const y=n?{agent_id:n}:{labels:A},l={command:f.trim(),labels:h},M=await(await fetch(`${pe}/submit`,{method:"POST",headers:Me(),body:JSON.stringify({job:l,route:y})})).text();$(M);let b="",k=!1;try{const s=JSON.parse(M);s&&s.job_id?(b=s.job_id,k=!0):s&&s.id&&(b=s.id,k=!0)}catch{const s=M.match(/job_id\s*[:=]\s*['\"]?(\w+)["']?/i);s&&(b=s[1],k=!0)}if(k){let s=[];try{s=JSON.parse(localStorage.getItem("testJobIds")||"[]")}catch{}s.includes(b)||(s.push(b),localStorage.setItem("testJobIds",JSON.stringify(s))),C({show:!0,type:"success",message:"Job Submitted Successfully"}),d(),setTimeout(()=>C({show:!1}),2e3)}else C({show:!0,type:"error",message:"Job submission failed"})}catch(h){$(`error: ${h.message}`),C({show:!0,type:"error",message:`Job submission failed: ${h.message}`})}finally{R(!1)}}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl border border-gray-100",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-100",children:[e.jsxs("h3",{className:"text-heading-2 text-primary flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Test A Job"]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200 flex items-center justify-center",title:"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"space-y-2",children:[te&&e.jsx("div",{className:`mb-2 px-3 py-2 rounded text-sm ${te.colorClass}`,children:te.message}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"form-label",children:"Target Agent"}),e.jsxs("div",{className:"relative",ref:L,children:[e.jsxs("button",{onClick:()=>v(!j),className:"border border-gray-300 rounded-lg px-3 py-2.5 w-full text-body text-gray-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 cursor-pointer hover:border-gray-400 text-left flex items-center justify-between",children:[e.jsx("span",{children:U()}),e.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),j&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto",children:ee.map(h=>e.jsx("button",{onClick:()=>Z(h.value),className:`w-full text-left px-3 py-2.5 text-sm transition-all duration-150 hover:bg-blue-50 hover:text-blue-900 ${n===h.value?"bg-blue-100 text-blue-900 font-medium":"text-gray-700"}`,children:h.label},h.value))})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"form-label",children:"Command"}),e.jsx("input",{value:f,onChange:h=>c(h.target.value),className:"border border-gray-300 rounded-lg px-3 py-2.5 w-full text-body focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",placeholder:"Command to run"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"form-label",children:"Labels (JSON)"}),e.jsx("textarea",{value:m,onChange:h=>N(h.target.value),className:"border border-gray-300 rounded-lg px-3 py-2.5 w-full text-body focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-mono",rows:"3",placeholder:'{} (or {"os":"linux"})'})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("button",{onClick:p,disabled:x||!O,className:`inline-flex items-center gap-2 px-4 py-2.5 btn-text rounded-lg transition-all duration-200 shadow-sm hover:shadow-md ${O&&!x?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:x?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Submit Job"]})}),e.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"})}),"Show All Jobs"]})]}),S.show&&e.jsx("div",{className:`mt-2 text-sm px-3 py-2 rounded ${S.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:S.message})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"form-label",children:"Output"}),e.jsx("pre",{className:"p-4 rounded-lg border border-gray-200 overflow-auto h-32 text-mono-small whitespace-pre-wrap break-words bg-gray-900 text-green-400 shadow-inner",children:_||"No output yet..."})]})]})})})},Bt=({message:t,onClose:r})=>t?e.jsxs("div",{className:"bg-red-50 text-red-700 border border-red-200 px-3 py-2 rounded flex items-center justify-between",children:[e.jsx("span",{children:t}),e.jsx("button",{onClick:r,className:"ml-2 text-red-500 hover:text-red-700",children:"×"})]}):null,Ot=()=>{console.log("🚀 TIMEZONE HOOK CALLED!");const t=()=>{try{const u=Intl.DateTimeFormat().resolvedOptions().timeZone;return u?{"Asia/Kolkata":"Asia/Kolkata","Asia/Calcutta":"Asia/Kolkata"}[u]||u:null}catch{return null}},[r,i]=o.useState(()=>{console.log("🔍 FRESH PAGE LOAD - TIMEZONE INITIALIZATION:");const u=t(),f=Intl.DateTimeFormat().resolvedOptions().timeZone,c=u||f;return console.log("  - Browser detected:",u),console.log("  - Fallback:",f),console.log("  - Always using LOCAL timezone:",c),localStorage.removeItem("router_ui_tz"),localStorage.setItem("router_ui_tz",c),console.log("  ✅ Fresh start with local timezone on every page load"),c}),a=o.useCallback(u=>{console.log("🎯 USER CHANGING timezone from",r,"to",u),i(u),localStorage.setItem("router_ui_tz",u),window.TZ=u,console.log("✅ Timezone changed to:",u),console.log("� NOTE: This change is only for current page session"),console.log("🔄 Next page refresh will reset to local timezone")},[r]),d=o.useCallback(()=>{console.log("🏠 Resetting to local timezone");const u=t()||Intl.DateTimeFormat().resolvedOptions().timeZone;return i(u),localStorage.setItem("router_ui_tz",u),window.TZ=u,console.log("✅ Reset to:",u),u},[]),n=o.useCallback(()=>{console.log("🗑️ CLEARING timezone cache"),localStorage.removeItem("router_ui_tz");const u=t()||Intl.DateTimeFormat().resolvedOptions().timeZone;return i(u),window.TZ=u,console.log("✅ Cache cleared, using local:",u),console.log("📝 Next page load will start fresh with local timezone"),u},[]);return{timezone:r,updateTimezone:a,resetToLocal:d,clearTimezoneCache:n}},Jt=(t=!0,r=2e3)=>{const[i,a]=o.useState([]),[d,n]=o.useState(!0),[u,f]=o.useState(null),c=o.useRef(null),m=o.useCallback(async()=>{try{const _=await Se(`${pe}/jobs?limit=1000`),$=Array.isArray(_)?_:_.jobs||[];let x=[];try{x=JSON.parse(localStorage.getItem("testJobIds")||"[]")}catch{}const R=$.map(S=>{const C=S.job_id||S.id||"";let j=S.labels||{};return x.includes(C)&&(j={...j,"job-type":"test"}),{job_id:C,status:(S.status||"").toUpperCase(),agent_id:S.agent_id||"",rc:S.rc!==void 0?S.rc:null,log_path:S.log_path||"",created_at:S.created_at||S.createdAt||null,updated_at:S.updated_at||S.updatedAt||null,labels:j}});a(R),f(null)}catch(_){f(_.message)}finally{n(!1)}},[]);o.useEffect(()=>{if(m(),t)return c.current=setInterval(m,r),()=>{c.current&&clearInterval(c.current)}},[t,r,m]);const N=o.useCallback(()=>{n(!0),m()},[m]);return{jobs:i,loading:d,error:u,refreshJobs:N}},Ht=(t=!0,r=2e3)=>{const[i,a]=o.useState([]),[d,n]=o.useState(!0),[u,f]=o.useState(null),c=o.useRef(null),m=o.useCallback(async()=>{try{const _=await Se(`${pe}/agents`),$=Array.isArray(_)?_:_.agents||[];a($),f(null)}catch(_){f(_.message)}finally{n(!1)}},[]);o.useEffect(()=>{if(m(),t)return c.current=setInterval(m,r),()=>{c.current&&clearInterval(c.current)}},[t,r,m]);const N=o.useCallback(()=>{n(!0),m()},[m]);return{agents:i,loading:d,error:u,refreshAgents:N}},Wt=()=>{const[t,r]=o.useState({enabled:!1,field:"updated_at",mode:"relative",relMins:1440,abs:{fromMs:null,toMs:null}}),i=o.useCallback(d=>{r(n=>({...n,...d}))},[]),a=o.useCallback(d=>{var c,m;if(!t.enabled)return d;let n=null,u=null;t.mode==="relative"?(u=Date.now(),n=u-t.relMins*60*1e3):(n=((c=t.abs)==null?void 0:c.fromMs)??null,u=((m=t.abs)==null?void 0:m.toMs)??null);const f=t.field||"updated_at";return d.filter(N=>{const _=N[f],$=window.toTs?window.toTs(_):Date.parse(_);return!(!Number.isFinite($)||n!=null&&$<n||u!=null&&$>u)})},[t]);return{timeRange:t,updateTimeRange:i,filterJobsByTime:a}};typeof window<"u"&&(window.toTs=ge);function Ft(){const[t,r]=o.useState("jobs"),[i,a]=o.useState(!0),[d,n]=o.useState(null),[u,f]=o.useState(!1),[c,m]=o.useState(!1),[N,_]=o.useState(null),[$,x]=o.useState(""),{jobs:R,loading:S,error:C,refreshJobs:j}=Jt(i),{agents:v,loading:L,error:D,refreshAgents:H}=Ht(i),{timezone:O,updateTimezone:ee,resetToLocal:Z,clearTimezoneCache:U}=Ot(),{timeRange:re,updateTimeRange:te,filterJobsByTime:p}=Wt(),A=[C,D,d].filter(Boolean)[0],y=o.useCallback(async()=>{n(null),t==="analytics"?(await j(),window.dispatchEvent(new CustomEvent("analyticsRefresh",{detail:{animate:!0}}))):await Promise.all([j(),H()])},[t,j,H]),l=o.useCallback(s=>{_(s),f(!0)},[]),T=o.useCallback(()=>{f(!1),_(null)},[]),M=o.useCallback((s="")=>{x(s),m(!0)},[]),b=o.useCallback(()=>{m(!1),x("")},[]),k=o.useCallback(()=>{r("jobs"),b()},[b]);return e.jsxs("div",{className:"bg-slate-50 text-slate-800 min-h-screen",children:[e.jsxs("div",{className:"max-w-screen-2xl mx-auto p-4 space-y-4",children:[e.jsx(St,{timezone:O,onTimezoneChange:ee,onResetToLocal:Z,onClearCache:U,onSubmitJobClick:()=>M()}),A&&e.jsx(Bt,{message:A,onClose:()=>n(null)}),e.jsx("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow p-4",children:[e.jsx(Tt,{activeTab:t,onTabChange:r,autoRefresh:i,onAutoRefreshChange:a,onManualRefresh:y,timeRange:re,onTimeRangeChange:te,loading:S||L}),t==="jobs"&&e.jsx(_t,{jobs:R,timezone:O,timeRange:re,filterJobsByTime:p,onJobClick:l,onTimeRangeClear:()=>te({enabled:!1}),loading:S}),t==="agents"&&e.jsx(At,{agents:v,jobs:R,timezone:O,timeRange:re,filterJobsByTime:p,onTestJobClick:M,loading:L,refreshAgents:H}),t==="analytics"&&e.jsx($t,{jobs:R,filterJobsByTime:p,autoRefresh:i,timezone:O})]})})]}),u&&e.jsx(Et,{jobId:N,jobs:R,timezone:O,onClose:T}),c&&e.jsx(Rt,{agents:v,preselectedAgent:$,onClose:b,onJobsTabClick:k,onJobSubmitted:j})]})}et(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(Ft,{})}));
