import{r as s,a as ot}from"./vendor-30840fde.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))n(d);new MutationObserver(d=>{for(const a of d)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function i(d){const a={};return d.integrity&&(a.integrity=d.integrity),d.referrerPolicy&&(a.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?a.credentials="include":d.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(d){if(d.ep)return;d.ep=!0;const a=i(d);fetch(d.href,a)}})();var Ue={exports:{}},Le={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=s,nt=Symbol.for("react.element"),lt=Symbol.for("react.fragment"),it=Object.prototype.hasOwnProperty,dt=at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ct={key:!0,ref:!0,__self:!0,__source:!0};function Pe(t,r,i){var n,d={},a=null,u=null;i!==void 0&&(a=""+i),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(u=r.ref);for(n in r)it.call(r,n)&&!ct.hasOwnProperty(n)&&(d[n]=r[n]);if(t&&t.defaultProps)for(n in r=t.defaultProps,r)d[n]===void 0&&(d[n]=r[n]);return{$$typeof:nt,type:t,key:a,ref:u,props:d,_owner:dt.current}}Le.Fragment=lt;Le.jsx=Pe;Le.jsxs=Pe;Ue.exports=Le;var e=Ue.exports,ut={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi},ze=ut,Re={whitespace:/\s+/g,urlHexPairs:/%[\dA-F]{2}/g,quotes:/"/g};function ht(t){return t.trim().replace(Re.whitespace," ")}function ft(t){return encodeURIComponent(t).replace(Re.urlHexPairs,gt)}function mt(t){return Object.keys(ze).forEach(function(r){ze[r].test(t)&&(t=t.replace(ze[r],r))}),t}function gt(t){switch(t){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return t.toLowerCase()}}function $e(t){if(typeof t!="string")throw new TypeError("Expected a string, but received "+typeof t);t.charCodeAt(0)===65279&&(t=t.slice(1));var r=mt(ht(t)).replace(Re.quotes,"'");return"data:image/svg+xml,"+ft(r)}$e.toSrcset=function(r){return $e(r).replace(/ /g,"%20")};var pt=$e,Ve={},Ge={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});function r(n,d){return{handler:n,config:d}}r.withOptions=function(n,d=()=>({})){const a=function(u){return{__options:u,handler:n(u),config:d(u)}};return a.__isOptionsFunction=!0,a.__pluginFunction=n,a.__configFunction=d,a};const i=r})(Ge);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});const r=i(Ge);function i(d){return d&&d.__esModule?d:{default:d}}const n=r.default})(Ve);let Ae=Ve;var xt=(Ae.__esModule?Ae:{default:Ae}).default,Ze={},qe={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cloneDeep",{enumerable:!0,get:function(){return r}});function r(i){return Array.isArray(i)?i.map(n=>r(n)):typeof i=="object"&&i!==null?Object.fromEntries(Object.entries(i).map(([n,d])=>[n,r(d)])):i}})(qe);var bt={content:[],presets:[],darkMode:"media",theme:{accentColor:({theme:t})=>({...t("colors"),auto:"auto"}),animation:{none:"none",spin:"spin 1s linear infinite",ping:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",bounce:"bounce 1s infinite"},aria:{busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},aspectRatio:{auto:"auto",square:"1 / 1",video:"16 / 9"},backdropBlur:({theme:t})=>t("blur"),backdropBrightness:({theme:t})=>t("brightness"),backdropContrast:({theme:t})=>t("contrast"),backdropGrayscale:({theme:t})=>t("grayscale"),backdropHueRotate:({theme:t})=>t("hueRotate"),backdropInvert:({theme:t})=>t("invert"),backdropOpacity:({theme:t})=>t("opacity"),backdropSaturate:({theme:t})=>t("saturate"),backdropSepia:({theme:t})=>t("sepia"),backgroundColor:({theme:t})=>t("colors"),backgroundImage:{none:"none","gradient-to-t":"linear-gradient(to top, var(--tw-gradient-stops))","gradient-to-tr":"linear-gradient(to top right, var(--tw-gradient-stops))","gradient-to-r":"linear-gradient(to right, var(--tw-gradient-stops))","gradient-to-br":"linear-gradient(to bottom right, var(--tw-gradient-stops))","gradient-to-b":"linear-gradient(to bottom, var(--tw-gradient-stops))","gradient-to-bl":"linear-gradient(to bottom left, var(--tw-gradient-stops))","gradient-to-l":"linear-gradient(to left, var(--tw-gradient-stops))","gradient-to-tl":"linear-gradient(to top left, var(--tw-gradient-stops))"},backgroundOpacity:({theme:t})=>t("opacity"),backgroundPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},backgroundSize:{auto:"auto",cover:"cover",contain:"contain"},blur:{0:"0",none:"",sm:"4px",DEFAULT:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},borderColor:({theme:t})=>({...t("colors"),DEFAULT:t("colors.gray.200","currentColor")}),borderOpacity:({theme:t})=>t("opacity"),borderRadius:{none:"0px",sm:"0.125rem",DEFAULT:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},borderSpacing:({theme:t})=>({...t("spacing")}),borderWidth:{DEFAULT:"1px",0:"0px",2:"2px",4:"4px",8:"8px"},boxShadow:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"none"},boxShadowColor:({theme:t})=>t("colors"),brightness:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5",200:"2"},caretColor:({theme:t})=>t("colors"),colors:({colors:t})=>({inherit:t.inherit,current:t.current,transparent:t.transparent,black:t.black,white:t.white,slate:t.slate,gray:t.gray,zinc:t.zinc,neutral:t.neutral,stone:t.stone,red:t.red,orange:t.orange,amber:t.amber,yellow:t.yellow,lime:t.lime,green:t.green,emerald:t.emerald,teal:t.teal,cyan:t.cyan,sky:t.sky,blue:t.blue,indigo:t.indigo,violet:t.violet,purple:t.purple,fuchsia:t.fuchsia,pink:t.pink,rose:t.rose}),columns:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12","3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},container:{},content:{none:"none"},contrast:{0:"0",50:".5",75:".75",100:"1",125:"1.25",150:"1.5",200:"2"},cursor:{auto:"auto",default:"default",pointer:"pointer",wait:"wait",text:"text",move:"move",help:"help","not-allowed":"not-allowed",none:"none","context-menu":"context-menu",progress:"progress",cell:"cell",crosshair:"crosshair","vertical-text":"vertical-text",alias:"alias",copy:"copy","no-drop":"no-drop",grab:"grab",grabbing:"grabbing","all-scroll":"all-scroll","col-resize":"col-resize","row-resize":"row-resize","n-resize":"n-resize","e-resize":"e-resize","s-resize":"s-resize","w-resize":"w-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","se-resize":"se-resize","sw-resize":"sw-resize","ew-resize":"ew-resize","ns-resize":"ns-resize","nesw-resize":"nesw-resize","nwse-resize":"nwse-resize","zoom-in":"zoom-in","zoom-out":"zoom-out"},divideColor:({theme:t})=>t("borderColor"),divideOpacity:({theme:t})=>t("borderOpacity"),divideWidth:({theme:t})=>t("borderWidth"),dropShadow:{sm:"0 1px 1px rgb(0 0 0 / 0.05)",DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 #0000"},fill:({theme:t})=>({none:"none",...t("colors")}),flex:{1:"1 1 0%",auto:"1 1 auto",initial:"0 1 auto",none:"none"},flexBasis:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%"}),flexGrow:{0:"0",DEFAULT:"1"},flexShrink:{0:"0",DEFAULT:"1"},fontFamily:{sans:["ui-sans-serif","system-ui","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}],"5xl":["3rem",{lineHeight:"1"}],"6xl":["3.75rem",{lineHeight:"1"}],"7xl":["4.5rem",{lineHeight:"1"}],"8xl":["6rem",{lineHeight:"1"}],"9xl":["8rem",{lineHeight:"1"}]},fontWeight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},gap:({theme:t})=>t("spacing"),gradientColorStops:({theme:t})=>t("colors"),gradientColorStopPositions:{"0%":"0%","5%":"5%","10%":"10%","15%":"15%","20%":"20%","25%":"25%","30%":"30%","35%":"35%","40%":"40%","45%":"45%","50%":"50%","55%":"55%","60%":"60%","65%":"65%","70%":"70%","75%":"75%","80%":"80%","85%":"85%","90%":"90%","95%":"95%","100%":"100%"},grayscale:{0:"0",DEFAULT:"100%"},gridAutoColumns:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridAutoRows:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridColumn:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridColumnEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridColumnStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRow:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridRowEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRowStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridTemplateColumns:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},gridTemplateRows:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},height:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),hueRotate:{0:"0deg",15:"15deg",30:"30deg",60:"60deg",90:"90deg",180:"180deg"},inset:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),invert:{0:"0",DEFAULT:"100%"},keyframes:{spin:{to:{transform:"rotate(360deg)"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},pulse:{"50%":{opacity:".5"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}}},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeight:{none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},listStyleType:{none:"none",disc:"disc",decimal:"decimal"},listStyleImage:{none:"none"},margin:({theme:t})=>({auto:"auto",...t("spacing")}),lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},maxHeight:({theme:t})=>({...t("spacing"),none:"none",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),maxWidth:({theme:t,breakpoints:r})=>({...t("spacing"),none:"none",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",full:"100%",min:"min-content",max:"max-content",fit:"fit-content",prose:"65ch",...r(t("screens"))}),minHeight:({theme:t})=>({...t("spacing"),full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),minWidth:({theme:t})=>({...t("spacing"),full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),objectPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},opacity:{0:"0",5:"0.05",10:"0.1",15:"0.15",20:"0.2",25:"0.25",30:"0.3",35:"0.35",40:"0.4",45:"0.45",50:"0.5",55:"0.55",60:"0.6",65:"0.65",70:"0.7",75:"0.75",80:"0.8",85:"0.85",90:"0.9",95:"0.95",100:"1"},order:{first:"-9999",last:"9999",none:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},outlineColor:({theme:t})=>t("colors"),outlineOffset:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},outlineWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},padding:({theme:t})=>t("spacing"),placeholderColor:({theme:t})=>t("colors"),placeholderOpacity:({theme:t})=>t("opacity"),ringColor:({theme:t})=>({DEFAULT:t("colors.blue.500","#3b82f6"),...t("colors")}),ringOffsetColor:({theme:t})=>t("colors"),ringOffsetWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},ringOpacity:({theme:t})=>({DEFAULT:"0.5",...t("opacity")}),ringWidth:{DEFAULT:"3px",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},rotate:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg",45:"45deg",90:"90deg",180:"180deg"},saturate:{0:"0",50:".5",100:"1",150:"1.5",200:"2"},scale:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5"},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},scrollMargin:({theme:t})=>({...t("spacing")}),scrollPadding:({theme:t})=>t("spacing"),sepia:{0:"0",DEFAULT:"100%"},skew:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg"},space:({theme:t})=>({...t("spacing")}),spacing:{px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},stroke:({theme:t})=>({none:"none",...t("colors")}),strokeWidth:{0:"0",1:"1",2:"2"},supports:{},data:{},textColor:({theme:t})=>t("colors"),textDecorationColor:({theme:t})=>t("colors"),textDecorationThickness:{auto:"auto","from-font":"from-font",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},textIndent:({theme:t})=>({...t("spacing")}),textOpacity:({theme:t})=>t("opacity"),textUnderlineOffset:{auto:"auto",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},transformOrigin:{center:"center",top:"top","top-right":"top right",right:"right","bottom-right":"bottom right",bottom:"bottom","bottom-left":"bottom left",left:"left","top-left":"top left"},transitionDelay:{0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionDuration:{DEFAULT:"150ms",0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionProperty:{none:"none",all:"all",DEFAULT:"color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"color, background-color, border-color, text-decoration-color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},transitionTimingFunction:{DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},translate:({theme:t})=>({...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),size:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),width:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",screen:"100vw",svw:"100svw",lvw:"100lvw",dvw:"100dvw",min:"min-content",max:"max-content",fit:"fit-content"}),willChange:{auto:"auto",scroll:"scroll-position",contents:"contents",transform:"transform"},zIndex:{auto:"auto",0:"0",10:"10",20:"20",30:"30",40:"40",50:"50"}},plugins:[]};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});const r=qe,i=n(bt);function n(a){return a&&a.__esModule?a:{default:a}}const d=(0,r.cloneDeep)(i.default.theme)})(Ze);let De=Ze;var vt=(De.__esModule?De:{default:De}).default,Ye={},Ke={},Be={exports:{}},T=String,Qe=function(){return{isColorSupported:!1,reset:T,bold:T,dim:T,italic:T,underline:T,inverse:T,hidden:T,strikethrough:T,black:T,red:T,green:T,yellow:T,blue:T,magenta:T,cyan:T,white:T,gray:T,bgBlack:T,bgRed:T,bgGreen:T,bgYellow:T,bgBlue:T,bgMagenta:T,bgCyan:T,bgWhite:T,blackBright:T,redBright:T,greenBright:T,yellowBright:T,blueBright:T,magentaBright:T,cyanBright:T,whiteBright:T,bgBlackBright:T,bgRedBright:T,bgGreenBright:T,bgYellowBright:T,bgBlueBright:T,bgMagentaBright:T,bgCyanBright:T,bgWhiteBright:T}};Be.exports=Qe();Be.exports.createColors=Qe;var wt=Be.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0});function r(c,g){for(var j in g)Object.defineProperty(c,j,{enumerable:!0,get:g[j]})}r(t,{dim:function(){return u},default:function(){return m}});const i=n(wt);function n(c){return c&&c.__esModule?c:{default:c}}let d=new Set;function a(c,g,j){typeof process<"u"&&{}.JEST_WORKER_ID||j&&d.has(j)||(j&&d.add(j),console.warn(""),g.forEach(M=>console.warn(c,"-",M)))}function u(c){return i.default.dim(c)}const m={info(c,g){a(i.default.bold(i.default.cyan("info")),...Array.isArray(c)?[c]:[g,c])},warn(c,g){a(i.default.bold(i.default.yellow("warn")),...Array.isArray(c)?[c]:[g,c])},risk(c,g){a(i.default.bold(i.default.magenta("risk")),...Array.isArray(c)?[c]:[g,c])}}})(Ke);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});const r=i(Ke);function i(a){return a&&a.__esModule?a:{default:a}}function n({version:a,from:u,to:m}){r.default.warn(`${u}-color-renamed`,[`As of Tailwind CSS ${a}, \`${u}\` has been renamed to \`${m}\`.`,"Update your configuration file to silence this warning."])}const d={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return n({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return n({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return n({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return n({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return n({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(Ye);let Ee=Ye;var yt=(Ee.__esModule?Ee:{default:Ee}).default;const Ce=pt,jt=xt,Xe=vt,ce=yt,[kt,{lineHeight:Nt}]=Xe.fontSize.base,{spacing:le,borderWidth:Je,borderRadius:He}=Xe;function he(t,r){return t.replace("<alpha-value>",`var(${r}, 1)`)}jt.withOptions(function(t={strategy:void 0}){return function({addBase:r,addComponents:i,theme:n}){function d(c,g){let j=n(c);return!j||j.includes("var(")?g:j.replace("<alpha-value>","1")}const a=t.strategy===void 0?["base","class"]:[t.strategy],u=[{base:["[type='text']","input:where(:not([type]))","[type='email']","[type='url']","[type='password']","[type='number']","[type='date']","[type='datetime-local']","[type='month']","[type='search']","[type='tel']","[type='time']","[type='week']","[multiple]","textarea","select"],class:[".form-input",".form-textarea",".form-select",".form-multiselect"],styles:{appearance:"none","background-color":"#fff","border-color":he(n("colors.gray.500",ce.gray[500]),"--tw-border-opacity"),"border-width":Je.DEFAULT,"border-radius":He.none,"padding-top":le[2],"padding-right":le[3],"padding-bottom":le[2],"padding-left":le[3],"font-size":kt,"line-height":Nt,"--tw-shadow":"0 0 #0000","&:focus":{outline:"2px solid transparent","outline-offset":"2px","--tw-ring-inset":"var(--tw-empty,/*!*/ /*!*/)","--tw-ring-offset-width":"0px","--tw-ring-offset-color":"#fff","--tw-ring-color":he(n("colors.blue.600",ce.blue[600]),"--tw-ring-opacity"),"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color)","box-shadow":"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow)","border-color":he(n("colors.blue.600",ce.blue[600]),"--tw-border-opacity")}}},{base:["input::placeholder","textarea::placeholder"],class:[".form-input::placeholder",".form-textarea::placeholder"],styles:{color:he(n("colors.gray.500",ce.gray[500]),"--tw-text-opacity"),opacity:"1"}},{base:["::-webkit-datetime-edit-fields-wrapper"],class:[".form-input::-webkit-datetime-edit-fields-wrapper"],styles:{padding:"0"}},{base:["::-webkit-date-and-time-value"],class:[".form-input::-webkit-date-and-time-value"],styles:{"min-height":"1.5em"}},{base:["::-webkit-date-and-time-value"],class:[".form-input::-webkit-date-and-time-value"],styles:{"text-align":"inherit"}},{base:["::-webkit-datetime-edit"],class:[".form-input::-webkit-datetime-edit"],styles:{display:"inline-flex"}},{base:["::-webkit-datetime-edit","::-webkit-datetime-edit-year-field","::-webkit-datetime-edit-month-field","::-webkit-datetime-edit-day-field","::-webkit-datetime-edit-hour-field","::-webkit-datetime-edit-minute-field","::-webkit-datetime-edit-second-field","::-webkit-datetime-edit-millisecond-field","::-webkit-datetime-edit-meridiem-field"],class:[".form-input::-webkit-datetime-edit",".form-input::-webkit-datetime-edit-year-field",".form-input::-webkit-datetime-edit-month-field",".form-input::-webkit-datetime-edit-day-field",".form-input::-webkit-datetime-edit-hour-field",".form-input::-webkit-datetime-edit-minute-field",".form-input::-webkit-datetime-edit-second-field",".form-input::-webkit-datetime-edit-millisecond-field",".form-input::-webkit-datetime-edit-meridiem-field"],styles:{"padding-top":0,"padding-bottom":0}},{base:["select"],class:[".form-select"],styles:{"background-image":`url("${Ce(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path stroke="${d("colors.gray.500",ce.gray[500])}" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 8l4 4 4-4"/></svg>`)}")`,"background-position":`right ${le[2]} center`,"background-repeat":"no-repeat","background-size":"1.5em 1.5em","padding-right":le[10],"print-color-adjust":"exact"}},{base:["[multiple]",'[size]:where(select:not([size="1"]))'],class:['.form-select:where([size]:not([size="1"]))'],styles:{"background-image":"initial","background-position":"initial","background-repeat":"unset","background-size":"initial","padding-right":le[3],"print-color-adjust":"unset"}},{base:["[type='checkbox']","[type='radio']"],class:[".form-checkbox",".form-radio"],styles:{appearance:"none",padding:"0","print-color-adjust":"exact",display:"inline-block","vertical-align":"middle","background-origin":"border-box","user-select":"none","flex-shrink":"0",height:le[4],width:le[4],color:he(n("colors.blue.600",ce.blue[600]),"--tw-text-opacity"),"background-color":"#fff","border-color":he(n("colors.gray.500",ce.gray[500]),"--tw-border-opacity"),"border-width":Je.DEFAULT,"--tw-shadow":"0 0 #0000"}},{base:["[type='checkbox']"],class:[".form-checkbox"],styles:{"border-radius":He.none}},{base:["[type='radio']"],class:[".form-radio"],styles:{"border-radius":"100%"}},{base:["[type='checkbox']:focus","[type='radio']:focus"],class:[".form-checkbox:focus",".form-radio:focus"],styles:{outline:"2px solid transparent","outline-offset":"2px","--tw-ring-inset":"var(--tw-empty,/*!*/ /*!*/)","--tw-ring-offset-width":"2px","--tw-ring-offset-color":"#fff","--tw-ring-color":he(n("colors.blue.600",ce.blue[600]),"--tw-ring-opacity"),"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)","box-shadow":"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow)"}},{base:["[type='checkbox']:checked","[type='radio']:checked"],class:[".form-checkbox:checked",".form-radio:checked"],styles:{"border-color":"transparent","background-color":"currentColor","background-size":"100% 100%","background-position":"center","background-repeat":"no-repeat"}},{base:["[type='checkbox']:checked"],class:[".form-checkbox:checked"],styles:{"background-image":`url("${Ce('<svg viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"/></svg>')}")`,"@media (forced-colors: active) ":{appearance:"auto"}}},{base:["[type='radio']:checked"],class:[".form-radio:checked"],styles:{"background-image":`url("${Ce('<svg viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="3"/></svg>')}")`,"@media (forced-colors: active) ":{appearance:"auto"}}},{base:["[type='checkbox']:checked:hover","[type='checkbox']:checked:focus","[type='radio']:checked:hover","[type='radio']:checked:focus"],class:[".form-checkbox:checked:hover",".form-checkbox:checked:focus",".form-radio:checked:hover",".form-radio:checked:focus"],styles:{"border-color":"transparent","background-color":"currentColor"}},{base:["[type='checkbox']:indeterminate"],class:[".form-checkbox:indeterminate"],styles:{"background-image":`url("${Ce('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h8"/></svg>')}")`,"border-color":"transparent","background-color":"currentColor","background-size":"100% 100%","background-position":"center","background-repeat":"no-repeat","@media (forced-colors: active) ":{appearance:"auto"}}},{base:["[type='checkbox']:indeterminate:hover","[type='checkbox']:indeterminate:focus"],class:[".form-checkbox:indeterminate:hover",".form-checkbox:indeterminate:focus"],styles:{"border-color":"transparent","background-color":"currentColor"}},{base:["[type='file']"],class:null,styles:{background:"unset","border-color":"inherit","border-width":"0","border-radius":"0",padding:"0","font-size":"unset","line-height":"inherit"}},{base:["[type='file']:focus"],class:null,styles:{outline:["1px solid ButtonText","1px auto -webkit-focus-ring-color"]}}],m=c=>u.map(g=>g[c]===null?null:{[g[c]]:g.styles}).filter(Boolean);a.includes("base")&&r(m("base")),a.includes("class")&&i(m("class"))}});var et,We=ot;et=We.createRoot,We.hydrateRoot;const me=window.API_BASE||"http://localhost:8000",Ct=()=>{let t=[];try{if(Intl.supportedValuesOf){if(t=Intl.supportedValuesOf("timeZone"),!Array.isArray(t)||!t.length)throw new Error("No supported timezones found")}else throw new Error("Intl.supportedValuesOf not available")}catch{t=["UTC","Asia/Kolkata","America/Los_Angeles","America/New_York","Europe/London","Europe/Berlin","Asia/Singapore","Asia/Tokyo","Australia/Sydney"]}try{const r=Intl.DateTimeFormat().resolvedOptions().timeZone;r&&!t.includes(r)?t.unshift(r):r&&t.includes(r)&&(t=t.filter(i=>i!==r),t.unshift(r))}catch(r){console.warn("Failed to detect local timezone for dropdown:",r)}return t},Lt=(t,r=new Date)=>{try{const n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(r).reduce((M,z)=>(M[z.type]=z.value,M),{}),d=Number(n.year),a=Number(n.month),u=Number(n.day),m=Number(n.hour),c=Number(n.minute),g=Number(n.second),j=Date.UTC(d,a-1,u,m,c,g);return Math.round((j-r.getTime())/6e4)}catch{return 0}},Mt=t=>{const r=Lt(t),i=r>=0?"+":"-",n=Math.abs(r),d=Math.floor(n/60),a=n%60;return a===0?`UTC${i}${d}`:a===30?`UTC${i}${d}.5`:a===45?`UTC${i}${d}.75`:a===15?`UTC${i}${d}.25`:`UTC${i}${d}:${String(a).padStart(2,"0")}`},Fe=t=>`${t} - (${Mt(t)})`,tt=t=>{if(t==null)return null;if(typeof t=="number")return new Date(t);const r=String(t);return/[zZ]|[+\-]\d{2}:?\d{2}$/.test(r)?new Date(r):/^\d{4}-\d{2}-\d{2}[ T]\d{2}:\d{2}:\d{2}(\.\d+)?$/.test(r)?new Date(r.replace(" ","T")+"Z"):new Date(r)},ve=(t,r)=>{if(!t)return"-";try{return new Intl.DateTimeFormat(void 0,{timeZone:r,year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(tt(t))}catch{return t}},we=t=>{if(!t)return"-";const r=tt(t).getTime(),i=Math.max(0,Math.floor((Date.now()-r)/1e3));if(i<60)return`${i}s ago`;const n=Math.floor(i/60);if(n<60)return`${n}m ago`;const d=Math.floor(n/60);return d<24?`${d}h ago`:`${Math.floor(d/24)}d ago`},Me=()=>({Authorization:"Bearer router-secret","Content-Type":"application/json"}),Se=async(t,r={})=>{const i={...Me(),...r.headers},n=await fetch(t,{...r,headers:i}),d=await n.text();let a;try{a=JSON.parse(d)}catch{throw new Error(`Non-JSON from ${t}: ${d.slice(0,200)}`)}if(!n.ok)throw new Error(`HTTP ${n.status} ${t}: ${d.slice(0,200)}`);return a},Ie=t=>(t==null?"":String(t)).toLowerCase(),ye=(t,r)=>Ie(t).includes(Ie(r)),rt=(t,r)=>{if(!r)return!0;const i=(r||"").trim();if(!i)return!0;try{const n=i.split(":");if(n.length===2){const d=n[0].trim(),a=n[1].trim();return ye((t||{})[d]||"",a)}}catch{}try{return JSON.stringify(t||{}).toLowerCase().includes(i.toLowerCase())}catch{return!1}},fe=t=>{if(t==null)return NaN;if(typeof t=="number")return t<1e12?t*1e3:t;if(typeof t=="string"){let r=t.trim();if(!r)return NaN;if(/^\d{10}$/.test(r))return parseInt(r,10)*1e3;if(/^\d{13}$/.test(r))return parseInt(r,10);let i=r.match(/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2})\.(\d{3,})(Z|[+\-]\d{2}:?\d{2})$/);if(i){const[d,a,u,m]=i,c=u.slice(0,3).padEnd(3,"0");return Date.parse(`${a}.${c}${m}`)||NaN}return i=r.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(Z|[+\-]\d{2}:?\d{2})$/),i?Date.parse(r)||NaN:(i=r.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{1,6})?$/),i?Date.parse(r+"Z")||NaN:Date.parse(r.includes(" ")?r.replace(" ","T"):r)||NaN)}return NaN},St=({timezone:t,onTimezoneChange:r,onResetToLocal:i,onClearCache:n,onSubmitJobClick:d})=>{const[a,u]=s.useState(!1),m=s.useRef(null),c=s.useRef(null),g=Ct();s.useEffect(()=>{console.log(`🎛️ HEADER: Received timezone prop: ${t}`)},[t]),s.useEffect(()=>{const b=L=>{m.current&&!m.current.contains(L.target)&&c.current&&!c.current.contains(L.target)&&u(!1)},$=L=>{L.key==="Escape"&&u(!1)};if(a)return document.addEventListener("click",b),document.addEventListener("keydown",$),()=>{document.removeEventListener("click",b),document.removeEventListener("keydown",$)}},[a]);const j=b=>{console.log(`🖱️ HEADER: User clicked timezone: ${b}`),console.log(`🖱️ HEADER: Current timezone before change: ${t}`),r(b),u(!1),console.log(`🖱️ HEADER: Called onTimezoneChange with: ${b}`)},M=()=>{i&&i()&&u(!1)},z=()=>{u(b=>!b)};return e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-display text-primary ml-4 cursor-pointer transition-colors duration-200 hover:text-accent",style:{color:"#143d6b"},children:"Agent Router Monitoring Console"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{ref:c,onClick:z,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white border border-blue-200 rounded-lg text-sm font-medium text-gray-900 hover:bg-blue-50 hover:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:Fe(t)}),e.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&e.jsxs("div",{ref:m,className:"absolute top-full right-0 mt-2 w-80 max-h-72 overflow-auto bg-gradient-to-r from-blue-25 to-indigo-25 border border-blue-200 rounded-lg shadow-lg z-50 backdrop-blur-sm",children:[e.jsxs("button",{type:"button",onClick:M,className:"w-full text-left px-4 py-3 hover:bg-blue-100/60 border-b border-blue-200 text-blue-700 font-medium flex items-center transition-all duration-150",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",className:"mr-2",children:e.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 0 1 1 1v2.101a7.002 7.002 0 0 1 11.601 2.566 1 1 0 1 1-1.885.666A5.002 5.002 0 0 0 5.999 7H9a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm.008 9.057a1 1 0 0 1 1.276.61A5.002 5.002 0 0 0 14.001 13H11a1 1 0 1 1 0-2h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-2.101a7.002 7.002 0 0 1-11.601-2.566 1 1 0 0 1.61-1.276z",clipRule:"evenodd"})}),"Reset to Local Timezone"]}),n&&e.jsxs("button",{type:"button",onClick:()=>{n(),u(!1)},className:"w-full text-left px-4 py-3 hover:bg-orange-100/60 border-b border-blue-200 text-orange-700 font-medium flex items-center transition-all duration-150",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",className:"mr-2",children:[e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 0 0 0 2h2a1 1 0 1 0 0-2H9z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm3.707-8.293l-3-3a1 1 0 0 0-1.414 1.414L10.586 9.5H7a1 1 0 1 0 0 2h3.586l-1.293 1.293a1 1 0 1 0 1.414 1.414l3-3a1 1 0 0 0 0-1.414z",clipRule:"evenodd"})]}),"🔧 Force Refresh Timezone"]}),g.map((b,$)=>{const L=$===0,k=b===t,y=b==="Asia/Kolkata"||b==="Asia/Calcutta";return e.jsxs("button",{type:"button",onClick:()=>j(b),className:`w-full text-left px-4 py-3 hover:bg-blue-100/60 hover:text-blue-900 flex items-center justify-between transition-all duration-150 ${k?"bg-blue-200/70 text-blue-900 font-medium border-l-4 border-blue-600":"text-gray-800"}`,children:[e.jsxs("span",{children:[Fe(b),L&&e.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-green-100 text-green-800 rounded font-medium",children:"🌍 Your Local Timezone"}),y&&!L&&e.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-orange-100 text-orange-700 rounded",children:"🇮🇳 India"})]}),k&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2 text-blue-600 font-medium text-sm",children:"Selected"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",className:"text-blue-500",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 0 1 0 1.414l-8 8a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 1.414-1.414L8 12.586l7.293-7.293a1 1 0 0 1 1.414 0z",clipRule:"evenodd"})})]})]},b)})]})]}),e.jsxs("button",{onClick:d,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white btn-text rounded-lg shadow-sm hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Test A Job"]})]})]})},Tt=({activeTab:t,onTabChange:r,autoRefresh:i,onAutoRefreshChange:n,onManualRefresh:d,timeRange:a,onTimeRangeChange:u,loading:m})=>{const[c,g]=s.useState(!1),j=s.useRef(null),M=s.useRef(null);s.useEffect(()=>{const v=_=>{j.current&&!j.current.contains(_.target)&&M.current&&!M.current.contains(_.target)&&g(!1)},N=_=>{_.key==="Escape"&&g(!1)};if(c)return document.addEventListener("click",v),document.addEventListener("keydown",N),()=>{document.removeEventListener("click",v),document.removeEventListener("keydown",N)}},[c]);const z=()=>{const v=a.field==="created_at"?"Created":"Updated";if(!a.enabled)return`${v}: All time`;if(a.mode==="relative"){const N=a.relMins;let _="";return N%(24*60)===0?_=`Last ${N/(24*60)}d`:N%60===0?_=`Last ${N/60}h`:_=`Last ${N}m`,`${v} in ${_}`}else{const N=P=>new Date(P).toLocaleString(),{fromMs:_,toMs:O}=a.abs,R=_?N(_):"–",ee=O?N(O):"Now";return`${v} from ${R} → ${ee}`}},b=v=>{u({enabled:!0,mode:"relative",relMins:v}),g(!1)},$=v=>{const N=new Date,_=new Date(N.getFullYear(),N.getMonth(),N.getDate());v||_.setDate(_.getDate()-1);const O=v?N.getTime():_.getTime()+24*60*60*1e3-1;u({enabled:!0,mode:"absolute",abs:{fromMs:_.getTime(),toMs:O}}),g(!1)},L=v=>{u({field:v})},k=()=>{u({enabled:!1}),g(!1)},y=()=>{const v=document.getElementById("tr-from-shared"),N=document.getElementById("tr-to-shared"),_=v!=null&&v.value?Date.parse(v.value):null,O=N!=null&&N.value?Date.parse(N.value):null;u({enabled:!0,mode:"absolute",abs:{fromMs:_,toMs:O}}),g(!1)};return e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 bg-gradient-to-r from-gray-50 to-slate-50",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("button",{onClick:()=>r("jobs"),className:`inline-flex items-center gap-2 px-4 py-3 font-medium text-base rounded-t-lg border-b-2 transition-all duration-200 ${t==="jobs"?"text-blue-700 border-blue-600 bg-gradient-to-t from-white to-blue-50 shadow-sm":"text-gray-600 border-transparent hover:text-gray-800 hover:border-gray-300 hover:bg-gradient-to-t hover:from-gray-50 hover:to-gray-100"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Jobs"]}),e.jsxs("button",{onClick:()=>r("agents"),className:`inline-flex items-center gap-2 px-4 py-3 font-medium text-base rounded-t-lg border-b-2 transition-all duration-200 ${t==="agents"?"text-blue-700 border-blue-600 bg-gradient-to-t from-white to-blue-50 shadow-sm":"text-gray-600 border-transparent hover:text-gray-800 hover:border-gray-300 hover:bg-gradient-to-t hover:from-gray-50 hover:to-gray-100"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0 1 12 2.944a11.955 11.955 0 0 1-8.618 3.04A12.02 12.02 0 0 0 3 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Agents"]}),e.jsxs("button",{onClick:()=>r("analytics"),className:`inline-flex items-center gap-2 px-4 py-3 font-medium text-base rounded-t-lg border-b-2 transition-all duration-200 ${t==="analytics"?"text-blue-700 border-blue-600 bg-gradient-to-t from-white to-blue-50 shadow-sm":"text-gray-600 border-transparent hover:text-gray-800 hover:border-gray-300 hover:bg-gradient-to-t hover:from-gray-50 hover:to-gray-100"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2zm0 0V9a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10m-6 0a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2m0 0V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2z"})}),"Analytics"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-white/70 backdrop-blur-sm border border-slate-200 rounded-lg px-3 py-2 shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsxs("label",{className:"form-label flex items-center gap-2 cursor-pointer",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:i,onChange:v=>n(v.target.checked)}),e.jsx("div",{className:"w-10 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-blue-500 peer-checked:to-indigo-600 shadow-inner"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-body-medium text-white",children:"Auto Refresh"}),e.jsx("span",{className:"text-body-small text-tertiary",children:"Updates every 2s"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-px h-8 bg-slate-200 mx-2"}),e.jsxs("button",{onClick:d,disabled:i,className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg btn-text-small transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 ${i?"opacity-40 cursor-not-allowed bg-slate-100 border border-slate-200 text-slate-400":"bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white shadow-sm hover:shadow-md border border-emerald-500"}`,title:i?"Auto refresh is enabled":"Refresh data now",children:[e.jsx("svg",{className:`w-4 h-4 ${m?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{children:m?"Refreshing...":"Refresh"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{ref:M,onClick:()=>g(!c),className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 ${a.enabled?"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 text-blue-800 shadow-sm hover:shadow-md hover:from-blue-100 hover:to-indigo-100 hover:border-blue-300":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 shadow-sm"}`,children:[a.enabled&&e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})}),e.jsx("span",{children:z()}),e.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&e.jsxs("div",{ref:j,className:"absolute right-0 z-50 mt-2 w-[32rem] bg-white border border-gray-200 rounded-xl shadow-xl p-4 space-y-4 backdrop-blur-sm bg-white/95",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"text-heading-3 text-primary mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.586a1 1 0 0 1.707.293l5.414 5.414a1 1 0 0 1.293.707V19a2 2 0 0 1-2 2z"})}),e.jsx("span",{children:"Time Field"})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"radio",name:"tr-field-shared",value:"updated_at",checked:a.field==="updated_at",onChange:v=>L(v.target.value),className:"sr-only peer"}),e.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 rounded-full peer-checked:border-blue-600 peer-checked:bg-blue-600 peer-focus:ring-2 peer-focus:ring-blue-300 transition-all duration-200 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-0 peer-checked:opacity-100 transition-opacity duration-200"})})]}),e.jsx("span",{className:"form-label text-primary group-hover:text-accent transition-colors",children:"Updated At"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"radio",name:"tr-field-shared",value:"created_at",checked:a.field==="created_at",onChange:v=>L(v.target.value),className:"sr-only peer"}),e.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 rounded-full peer-checked:border-blue-600 peer-checked:bg-blue-600 peer-focus:ring-2 peer-focus:ring-blue-300 transition-all duration-200 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-0 peer-checked:opacity-100 transition-opacity duration-200"})})]}),e.jsx("span",{className:"form-label text-primary group-hover:text-accent transition-colors",children:"Created At"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"text-heading-3 text-primary mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsx("span",{children:"Quick Ranges"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsx("button",{onClick:()=>b(15),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 15m"}),e.jsx("button",{onClick:()=>b(60),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 1h"}),e.jsx("button",{onClick:()=>b(240),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 4h"}),e.jsx("button",{onClick:()=>b(1440),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 24h"}),e.jsx("button",{onClick:()=>b(10080),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 7d"}),e.jsx("button",{onClick:()=>b(43200),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-300 rounded-lg text-green-800 hover:from-green-200 hover:to-emerald-200 hover:border-green-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300",children:"Last 30d"}),e.jsx("button",{onClick:()=>$(!0),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-purple-100 to-violet-100 border border-purple-300 rounded-lg text-purple-800 hover:from-purple-200 hover:to-violet-200 hover:border-purple-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-purple-300",children:"Today"}),e.jsx("button",{onClick:()=>$(!1),className:"btn-text-small px-3 py-2.5 bg-gradient-to-r from-purple-100 to-violet-100 border border-purple-300 rounded-lg text-purple-800 hover:from-purple-200 hover:to-violet-200 hover:border-purple-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-purple-300",children:"Yesterday"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-lg p-4",children:[e.jsxs("div",{className:"text-heading-3 text-primary mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z"})}),e.jsx("span",{children:"Absolute Range"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label text-primary mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"From Date"]}),e.jsx("input",{id:"tr-from-shared",type:"datetime-local",className:"w-full px-3 py-2.5 border-2 border-orange-200 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-orange-400 transition-all duration-200 bg-white/70 hover:bg-white hover:border-orange-300 text-body shadow-sm backdrop-blur-sm"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label text-primary mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"To Date"]}),e.jsx("input",{id:"tr-to-shared",type:"datetime-local",className:"w-full px-3 py-2.5 border-2 border-orange-200 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-orange-400 transition-all duration-200 bg-white/70 hover:bg-white hover:border-orange-300 text-body shadow-sm backdrop-blur-sm"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t-2 border-slate-200",children:[e.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 px-4 py-2.5 btn-text text-red-700 bg-gradient-to-r from-red-100 to-pink-100 border-2 border-red-300 rounded-lg hover:from-red-200 hover:to-pink-200 hover:border-red-400 transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0 1 16.138 21H7.862a2 2 0 0 1-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v3M4 7h16"})}),e.jsx("span",{children:"Clear All"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2.5 btn-text text-secondary bg-white border-2 border-slate-300 rounded-lg hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 focus:ring-2 focus:ring-slate-300 shadow-sm hover:shadow-md",children:"Cancel"}),e.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 px-4 py-2.5 btn-text text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg focus:ring-2 focus:ring-blue-500 border border-blue-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Apply Range"})]})]})]})]})]})]})]})},_t=({jobs:t,timezone:r,timeRange:i,filterJobsByTime:n,onJobClick:d,onTimeRangeClear:a,loading:u})=>{const[m,c]=s.useState({job_id:"",status:"",agent_id:"",rc:"",labels:""}),[g,j]=s.useState({key:"created_at",dir:"desc"}),[M,z]=s.useState(1),[b,$]=s.useState(15),[L,k]=s.useState(!1),[y,v]=s.useState(!1),N=s.useRef(null),_=s.useRef(null);s.useEffect(()=>{const l=w=>{N.current&&!N.current.contains(w.target)&&k(!1),_.current&&!_.current.contains(w.target)&&v(!1)};if(L||y)return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[L,y]);const O=s.useMemo(()=>{let l=[...t];m.job_id&&(l=l.filter(f=>ye(f.job_id||"",m.job_id))),m.status&&(l=l.filter(f=>String(f.status||"").toUpperCase()===String(m.status).toUpperCase())),m.agent_id&&(l=l.filter(f=>ye(f.agent_id||"",m.agent_id))),m.rc!==""&&(l=l.filter(f=>String(f.rc)===String(m.rc))),m.labels&&(l=l.filter(f=>rt(f.labels,m.labels))),l=n(l);const{key:w,dir:C}=g,o=C==="asc"?1:-1;return l.sort((f,p)=>{const B=f[w]??"",A=p[w]??"";return w.endsWith("_at")?(new Date(B)-new Date(A))*o:typeof B=="number"&&typeof A=="number"?(B-A)*o:String(B).localeCompare(String(A))*o}),l},[t,m,g,n]),R=s.useMemo(()=>{const l=O.length,w=Math.max(1,Math.ceil(l/b)),C=Math.min(M,w),o=(C-1)*b,f=o+b;return{jobs:O.slice(o,f),total:l,pages:w,currentPage:C,start:l?o+1:0,end:Math.min(f,l)}},[O,M,b]),ee=s.useMemo(()=>{const l=[];if(Object.entries(m).forEach(([w,C])=>{C!=null&&String(C).trim()!==""&&l.push({key:w,value:String(C).trim()})}),i.enabled){const w=i.field==="created_at"?"Created":"Updated";let C=`${w}: All time`;if(i.mode==="relative"){const o=i.relMins;let f="";o%(24*60)===0?f=`Last ${o/(24*60)}d`:o%60===0?f=`Last ${o/60}h`:f=`Last ${o}m`,C=`${w} in ${f}`}l.unshift({key:"timerange",value:C})}return l},[m,i]),P=s.useCallback(l=>{j(w=>({key:l,dir:w.key===l&&w.dir==="asc"?"desc":"asc"})),z(1)},[]),F=s.useCallback((l,w)=>{c(C=>({...C,[l]:w})),z(1)},[]),re=s.useCallback(()=>{c({job_id:"",status:"",agent_id:"",rc:"",labels:""}),z(1)},[]),Q=s.useCallback(l=>{if(l==="timerange"){a&&a();return}F(l,"")},[F,a]),x=l=>g.key!==l?"":g.dir==="asc"?"▲":"▼",h=[{value:"",label:"All statuses"},{value:"QUEUED",label:"QUEUED"},{value:"RUNNING",label:"RUNNING"},{value:"SUCCEEDED",label:"SUCCEEDED"},{value:"FAILED",label:"FAILED"}],D=l=>{F("status",l),k(!1)},S=()=>{const l=h.find(w=>w.value===m.status);return l?l.label:"All statuses"};return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-slate-500",children:"Loading jobs..."})}):e.jsxs("div",{children:[ee.length>0&&e.jsx("div",{className:"flex flex-wrap gap-3 mb-4 p-2",children:ee.map(l=>e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-full text-sm font-medium text-blue-800 shadow-sm hover:shadow-md transition-all duration-200 hover:from-blue-100 hover:to-indigo-100 hover:border-blue-300",children:[e.jsx("span",{className:"flex items-center gap-1",children:l.key==="timerange"?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})}),e.jsx("span",{className:"font-semibold",children:l.value})]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-blue-600 font-medium",children:[l.key,":"]}),e.jsx("span",{className:"font-semibold text-blue-900",children:l.value})]})}),e.jsx("button",{onClick:()=>Q(l.key),className:"flex items-center justify-center w-5 h-5 rounded-full bg-blue-200 hover:bg-red-200 text-blue-700 hover:text-red-700 transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-300",title:"Remove filter",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},l.key))}),e.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"Rows per page"]}),e.jsxs("div",{className:"relative",ref:_,children:[e.jsx("button",{onClick:()=>v(!y),className:"inline-flex items-center gap-2 px-4 py-2.5 pr-10 bg-white border border-blue-200 rounded-lg text-sm font-medium text-gray-900 hover:bg-blue-50 hover:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer",children:e.jsx("span",{children:b})}),e.jsx("svg",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none transition-transform duration-200 ${y?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),y&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-full bg-white border border-blue-200 rounded-lg shadow-lg z-50 overflow-hidden",children:[15,30,50,100,200].map(l=>e.jsxs("button",{onClick:()=>{$(l),z(1),v(!1)},className:`w-full text-left px-4 py-3 text-sm font-medium transition-all duration-150 ${l===b?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"}`,children:[l,l===b&&e.jsx("span",{className:"ml-auto flex items-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},l))})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-slate-600 font-medium bg-white px-3 py-1.5 rounded-lg border border-gray-200 shadow-sm",children:[R.start,"-",R.end," of ",R.total," items"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>z(l=>Math.max(1,l-1)),disabled:R.currentPage<=1,className:"inline-flex items-center justify-center w-8 h-8 bg-white border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 hover:border-gray-400 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:border-gray-300 transition-all duration-200 shadow-sm hover:shadow-md",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("span",{className:"text-xs text-slate-500 px-2",children:[R.currentPage," / ",R.pages]}),e.jsx("button",{onClick:()=>z(l=>Math.min(R.pages,l+1)),disabled:R.currentPage>=R.pages,className:"inline-flex items-center justify-center w-8 h-8 bg-white border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 hover:border-gray-400 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:border-gray-300 transition-all duration-200 shadow-sm hover:shadow-md",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),e.jsx("div",{className:"overflow-auto border border-gray-200 rounded-xl shadow-sm bg-white",style:{maxHeight:"calc(15 * var(--row-h, 40px) + 130px)"},children:e.jsxs("table",{className:"w-full table-cell-text",style:{minWidth:"1400px"},children:[e.jsxs("thead",{className:"sticky top-0 z-10",children:[e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b-2 border-blue-200",children:[e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>P("job_id"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Job ID"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:x("job_id")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>P("status"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Status"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:x("status")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>P("agent_id"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Agent"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:x("agent_id")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group w-20",onClick:()=>P("rc"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"RC"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:x("rc")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>P("created_at"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Created"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:x("created_at")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>P("updated_at"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Updated"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:x("updated_at")})]})}),e.jsx("th",{className:"text-left p-4 table-header-text",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})}),e.jsx("span",{className:"font-semibold text-white",children:"Labels"})]})}),e.jsx("th",{className:"text-left p-4 table-header-text",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsx("span",{className:"font-semibold text-white",children:"Actions"})]})})]}),e.jsxs("tr",{className:"bg-gradient-to-r from-blue-25 to-indigo-25 border-b-2 border-blue-100",children:[e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})})}),e.jsx("input",{value:m.job_id,onChange:l=>F("job_id",l.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"Filter job ID"})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",ref:N,children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})})}),e.jsx("button",{onClick:()=>k(!L),className:"border border-blue-200 rounded-lg pl-10 pr-10 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 cursor-pointer shadow-sm hover:shadow-md text-left",children:S()}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${L?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),L&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gradient-to-r from-blue-25 to-indigo-25 border border-blue-200 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto backdrop-blur-sm",children:h.map(l=>e.jsx("button",{onClick:()=>D(l.value),className:`w-full text-left px-4 py-2.5 text-sm transition-all duration-150 hover:bg-blue-100/60 hover:text-blue-900 ${m.status===l.value?"bg-blue-200/70 text-blue-900 font-medium":"text-gray-800"}`,children:l.label},l.value))})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("input",{value:m.agent_id,onChange:l=>F("agent_id",l.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"Filter agent"})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H7a2 0 0 0-2 2v14a2 2 0 0 0 2 2z"})})}),e.jsx("input",{value:m.rc,onChange:l=>F("rc",l.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"e.g. 0",style:{minWidth:"100px"}})]})}),e.jsx("th",{className:"p-3",children:e.jsx("div",{className:"flex items-center justify-center h-11",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-100 to-indigo-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})})}),e.jsx("th",{className:"p-3",children:e.jsx("div",{className:"flex items-center justify-center h-11",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-100 to-indigo-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 0 0 4.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 0 1-15.357-2m15.357 2H15"})})})})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})})}),e.jsx("input",{value:m.labels,onChange:l=>F("labels",l.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:'key or "k:v"'})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("button",{onClick:re,className:"inline-flex items-center gap-2 px-4 py-2.5 text-xs font-semibold text-red-700 bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-200 rounded-lg hover:from-red-100 hover:to-pink-100 hover:border-red-300 transition-all duration-200 shadow-sm hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-300 backdrop-blur-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0 1 16.138 21H7.862a2 2 0 0 1-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v3M4 7h16"})}),"Clear all"]})})]})]}),e.jsx("tbody",{children:R.jobs.length===0?e.jsx("tr",{children:e.jsx("td",{className:"p-8 text-center",colSpan:"8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-600",children:"No jobs found"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your filters or time range"})]})]})})}):R.jobs.map(l=>e.jsx(zt,{job:l,timezone:r,onJobClick:d},l.job_id))})]})})]})},zt=({job:t,timezone:r,onJobClick:i})=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50 hover:shadow-sm transition-all duration-200 group",children:[e.jsx("td",{className:"p-4 table-cell-mono group-hover:text-slate-900",children:t.job_id}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-semibold shadow-sm status-chip-${t.status}`,children:[t.status==="SUCCEEDED"&&e.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 0 1 0 1.414l-8 8a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 1.414-1.414L8 12.586l7.293-7.293a1 1 0 0 1 1.414 0z",clipRule:"evenodd"})}),t.status==="FAILED"&&e.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 0 1 1.414 0L10 8.586l4.293-4.293a1 1 0 1 1 1.414 1.414L11.414 10l4.293 4.293a1 1 0 0 1-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L8.586 10 4.293 5.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})}),t.status==="RUNNING"&&e.jsx("div",{className:"w-2.5 h-2.5 mr-1.5 rounded-full bg-current animate-pulse"}),t.status==="QUEUED"&&e.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm1-12a1 1 0 1 0-2 0v4a1 1 0 0 0.293.707l2.828 2.829a1 1 0 1 0 1.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsx("span",{className:"status-text",children:t.status})]})}),e.jsx("td",{className:"p-4 table-cell-mono group-hover:text-slate-900",children:t.agent_id||"-"}),e.jsx("td",{className:"p-4 text-center table-cell-text font-medium group-hover:text-slate-900",children:t.rc??"-"}),e.jsx("td",{className:"p-4 text-secondary group-hover:text-white",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-body font-medium",children:ve(t.created_at,r)}),e.jsx("span",{className:"text-body-small text-tertiary",children:we(t.created_at)})]})}),e.jsx("td",{className:"p-4 text-secondary group-hover:text-white",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-body font-medium",children:ve(t.updated_at,r)}),e.jsx("span",{className:"text-body-small text-tertiary",children:we(t.updated_at)})]})}),e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.entries(t.labels||{}).length>0?Object.entries(t.labels||{}).map(([n,d])=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-md status-text text-blue-800 shadow-sm",children:[e.jsxs("span",{className:"text-blue-600",children:[n,":"]}),e.jsx("span",{className:"ml-1 font-semibold",children:d})]},n)):e.jsx("span",{className:"text-tertiary text-body",children:"-"})})}),e.jsx("td",{className:"p-4",children:e.jsxs("button",{onClick:()=>i(t.job_id),className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white btn-text-small rounded-lg shadow-sm hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsx("span",{children:"View Details"})]})})]}),At=({agents:t,jobs:r,timezone:i,timeRange:n,filterJobsByTime:d,onTestJobClick:a,loading:u,refreshAgents:m})=>{const[c,g]=s.useState({agent_id:"",url:"",labels:"",status:"",availability:""}),[j,M]=s.useState({key:"agent_id",dir:"asc"}),[z,b]=s.useState(1),[$,L]=s.useState(15),[k,y]=s.useState(!1),[v,N]=s.useState({show:!1,message:"",type:"info"}),[_,O]=s.useState({}),R=s.useRef(null),ee=20*1e3;s.useEffect(()=>{const o=async()=>{const f={};await Promise.all(t.map(async p=>{try{const B=await Se(`${me}/jobs?limit=1000&agent_id=${encodeURIComponent(p.agent_id)}`),V=(Array.isArray(B)?B:B.jobs||[]).filter(G=>{if(!n.enabled)return!0;const J=n.field||"updated_at",Z=G[J],H=fe(Z);if(isNaN(H))return!1;if(n.mode==="relative"){const I=Date.now(),te=I-n.relMins*60*1e3;return H>=te&&H<=I}else{const{fromMs:I,toMs:te}=n.abs;return!(I&&H<I||te&&H>te)}});f[p.agent_id]=V.length}catch{f[p.agent_id]=0}})),O(f)};t.length>0&&o()},[t,n]),s.useEffect(()=>{const o=f=>{R.current&&!R.current.contains(f.target)&&y(!1)};if(k)return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[k]);const P=s.useMemo(()=>{let o=[...t];c.agent_id&&(o=o.filter(A=>ye(A.agent_id||"",c.agent_id))),c.url&&(o=o.filter(A=>ye(A.url||"",c.url))),c.labels&&(o=o.filter(A=>rt(A.labels,c.labels))),c.status&&(o=o.filter(A=>re(A)===c.status)),c.availability&&(o=o.filter(A=>Q(A)===c.availability));const{key:f,dir:p}=j,B=p==="asc"?1:-1;return o.sort((A,V)=>{let G=A[f]??"",J=V[f]??"";return f==="jobs_in_range"&&(G=_[A.agent_id]||0,J=_[V.agent_id]||0),typeof G=="number"&&typeof J=="number"?(G-J)*B:f.endsWith("_at")||f==="last_heartbeat"?(new Date(G)-new Date(J))*B:String(G).localeCompare(String(J))*B}),o},[t,c,j,_]),F=s.useMemo(()=>{const o=P.length,f=Math.max(1,Math.ceil(o/$)),p=Math.min(z,f),B=(p-1)*$,A=B+$;return{agents:P.slice(B,A),total:o,pages:f,currentPage:p,start:o?B+1:0,end:Math.min(A,o)}},[P,z,$]),re=o=>{const f=fe(o.last_heartbeat),p=Date.now();return f&&p-f<ee?o.active?"Registered":"Discovered":"Offline"},Q=o=>{const f=fe(o.last_heartbeat),p=Date.now();return f&&p-f<ee&&o.active?"Active":"Inactive"},x=s.useCallback(o=>{M(f=>({key:o,dir:f.key===o&&f.dir==="asc"?"desc":"asc"})),b(1)},[]),h=s.useCallback((o,f)=>{g(p=>({...p,[o]:f})),b(1)},[]),D=s.useCallback(()=>{g({agent_id:"",url:"",labels:"",status:"",availability:""}),b(1)},[]),S=s.useCallback(async o=>{N({show:!0,type:"confirm",message:`Deregister agent ${o}?`,agentId:o})},[]),l=s.useCallback(async o=>{N({show:!0,type:"loading",message:"Processing..."});try{const p=await(await fetch(`${me}/agents/deregister`,{method:"POST",headers:Me(),body:JSON.stringify({agent_id:o})})).json();p.ok?(N({show:!0,type:"success",message:`Agent ${o} deregistered.`}),setTimeout(()=>N({show:!1}),2500),m()):N({show:!0,type:"error",message:`Error: ${p.error||"Unknown error"}`})}catch(f){N({show:!0,type:"error",message:`Request failed: ${f.message}`})}},[m]),w=o=>j.key!==o?"":j.dir==="asc"?"▲":"▼",C=()=>{const o=n.field==="created_at"?"Created":"Updated";if(!n.enabled)return`Jobs (${o}: All time)`;if(n.mode==="relative"){const f=n.relMins;let p="";return f%(24*60)===0?p=`Last ${f/(24*60)}d`:f%60===0?p=`Last ${f/60}h`:p=`Last ${f}m`,`Jobs (${o} in ${p})`}return`Jobs (${o} in range)`};return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-secondary text-body",children:"Loading agents..."})}):e.jsxs("div",{children:[v.show&&e.jsxs("div",{className:`mb-2 px-3 py-2 rounded text-body ${v.type==="success"?"bg-green-50 text-green-800 border border-green-200":v.type==="error"?"bg-red-50 text-red-800 border border-red-200":v.type==="confirm"?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:[v.message,v.type==="confirm"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>l(v.agentId),className:"ml-2 px-2 py-1 rounded bg-red-100 text-red-700 btn-text-small hover:bg-red-200 transition-colors duration-200",children:"Confirm"}),e.jsx("button",{onClick:()=>N({show:!1}),className:"ml-2 px-2 py-1 rounded bg-slate-100 btn-text-small hover:bg-slate-200 transition-colors duration-200",children:"Cancel"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"Rows per page"]}),e.jsxs("div",{className:"relative",ref:R,children:[e.jsx("button",{onClick:()=>y(!k),className:"inline-flex items-center gap-2 px-4 py-2.5 pr-10 bg-white border border-blue-200 rounded-lg text-sm font-medium text-gray-900 hover:bg-blue-50 hover:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-200 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer",children:e.jsx("span",{children:$})}),e.jsx("svg",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none transition-transform duration-200 ${k?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),k&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-full bg-white border border-blue-200 rounded-lg shadow-lg z-50 overflow-hidden",children:[15,30,50,100,200].map(o=>e.jsxs("button",{onClick:()=>{L(o),b(1),y(!1)},className:`w-full text-left px-4 py-3 text-sm font-medium transition-all duration-150 ${o===$?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"}`,children:[o,o===$&&e.jsx("span",{className:"ml-auto flex items-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},o))})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-slate-600 font-medium bg-white px-3 py-1.5 rounded-lg border border-gray-200 shadow-sm",children:[F.start,"-",F.end," of ",F.total," items"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>b(o=>Math.max(1,o-1)),disabled:F.currentPage<=1,className:"inline-flex items-center justify-center w-8 h-8 bg-white border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 hover:border-gray-400 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:border-gray-300 transition-all duration-200 shadow-sm hover:shadow-md",title:"Previous page",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("span",{className:"text-caption text-tertiary px-2",children:[F.currentPage," / ",F.pages]}),e.jsx("button",{onClick:()=>b(o=>Math.min(F.pages,o+1)),disabled:F.currentPage>=F.pages,className:"inline-flex items-center justify-center w-8 h-8 bg-white border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 hover:border-gray-400 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:border-gray-300 transition-all duration-200 shadow-sm hover:shadow-md",title:"Next page",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),e.jsx("div",{className:"overflow-auto border border-gray-200 rounded-xl shadow-sm bg-white",style:{maxHeight:"calc(15 * var(--row-h, 40px) + 130px)"},children:e.jsxs("table",{className:"w-full table-cell-text",style:{minWidth:"1400px"},children:[e.jsxs("thead",{className:"sticky top-0 z-10",children:[e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b-2 border-blue-200",children:[e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>x("agent_id"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Agent ID"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:w("agent_id")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>x("url"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"URL"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:w("url")})]})}),e.jsx("th",{className:"text-left p-4 table-header-text",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})}),e.jsx("span",{className:"font-semibold text-white",children:"Labels"})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>x("status"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Status"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:w("status")})]})}),e.jsx("th",{className:"text-left p-4 table-header-text",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsx("span",{className:"font-semibold text-white",children:"Availability"})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>x("last_heartbeat"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:"Last Heartbeat"}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:w("last_heartbeat")})]})}),e.jsx("th",{className:"text-left p-4 cursor-pointer table-header-text table-header-hover group",onClick:()=>x("jobs_in_range"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"})}),e.jsx("span",{className:"font-semibold text-white group-hover:text-white transition-colors",children:C()}),e.jsx("span",{className:"text-caption text-blue-600 group-hover:text-blue-200 transition-colors font-bold",children:w("jobs_in_range")})]})}),e.jsx("th",{className:"text-left p-4 table-header-text",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})}),e.jsx("span",{className:"font-semibold text-white",children:"Actions"})]})})]}),e.jsxs("tr",{className:"bg-gradient-to-r from-blue-25 to-indigo-25 border-b-2 border-blue-100",children:[e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("input",{value:c.agent_id,onChange:o=>h("agent_id",o.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"Filter agent ID"})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),e.jsx("input",{value:c.url,onChange:o=>h("url",o.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"Filter URL"})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"})})}),e.jsx("input",{value:c.labels,onChange:o=>h("labels",o.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-3 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 placeholder-gray-400 shadow-sm hover:shadow-md",placeholder:"key or 'k:v'"})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("select",{value:c.status,onChange:o=>h("status",o.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-10 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 cursor-pointer shadow-sm hover:shadow-md appearance-none",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{children:"Registered"}),e.jsx("option",{children:"Discovered"}),e.jsx("option",{children:"Offline"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),e.jsx("th",{className:"p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsxs("select",{value:c.availability,onChange:o=>h("availability",o.target.value),className:"border border-blue-200 rounded-lg pl-10 pr-10 py-2.5 w-full text-sm text-gray-900 bg-white/80 backdrop-blur-sm hover:bg-white focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-200 transition-all duration-200 cursor-pointer shadow-sm hover:shadow-md appearance-none",children:[e.jsx("option",{value:"",children:"All Availability"}),e.jsx("option",{children:"Active"}),e.jsx("option",{children:"Inactive"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none z-10",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),e.jsx("th",{className:"p-3"}),e.jsx("th",{className:"p-3"}),e.jsx("th",{className:"p-3",children:e.jsxs("button",{onClick:D,className:"inline-flex items-center gap-2 px-4 py-2.5 text-xs font-semibold text-red-800 bg-gradient-to-r from-red-100 to-pink-100 border-2 border-red-300 rounded-lg hover:from-red-200 hover:to-pink-200 hover:border-red-400 transition-all duration-200 shadow-md hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-red-400 backdrop-blur-sm transform hover:scale-105",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0 1 16.138 21H7.862a2 2 0 0 1-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v3M4 7h16"})}),"Clear all"]})})]})]}),e.jsx("tbody",{children:F.agents.length===0?e.jsx("tr",{children:e.jsx("td",{className:"p-8 text-center",colSpan:"8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-600",children:"No agents found"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your filters or check back later"})]})]})})}):F.agents.map((o,f)=>e.jsx(Dt,{agent:o,timezone:i,jobCount:_[o.agent_id]||0,getStatus:re,getAvailability:Q,onTestJobClick:a,onDeregisterClick:S},o.agent_id))})]})})]})},Dt=({agent:t,timezone:r,jobCount:i,getStatus:n,getAvailability:d,onTestJobClick:a,onDeregisterClick:u})=>{const m=n(t),c=d(t),g=m==="Registered"&&c==="Active";return e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50 hover:shadow-sm transition-all duration-200 group",children:[e.jsx("td",{className:"p-4 table-cell-mono group-hover:text-slate-900",children:t.agent_id}),e.jsx("td",{className:"p-4 table-cell-mono text-blue-600 hover:text-blue-800 group-hover:text-slate-900",children:t.url}),e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.entries(t.labels||{}).length>0?Object.entries(t.labels||{}).map(([j,M])=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-md status-text text-blue-800 shadow-sm",children:[e.jsxs("span",{className:"text-blue-600",children:[j,":"]}),e.jsx("span",{className:"ml-1 font-semibold",children:M})]},j)):e.jsx("span",{className:"text-tertiary text-body",children:"-"})})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-semibold shadow-sm ${m==="Registered"?"bg-green-100 text-green-800 border border-green-200":m==="Discovered"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-red-100 text-red-800 border border-red-200"}`,children:m})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${c==="Active"?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"table-cell-text font-medium",children:c})]})}),e.jsx("td",{className:"p-4 text-secondary group-hover:text-white",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-body font-medium",children:ve(t.last_heartbeat,r)}),e.jsx("span",{className:"text-body-small text-tertiary",children:we(t.last_heartbeat)})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold",children:i})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>a(t.agent_id),disabled:!g,className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1 ${g?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-300 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed focus:ring-gray-300"}`,title:g?"Submit a Test Job":"Test Job can only be submitted for Registered & Active agents",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M19 10a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs font-semibold",children:"Test Job"})]}),m==="Registered"&&e.jsxs("button",{onClick:()=>u(t.agent_id),className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white rounded-lg shadow-sm hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-300 focus:ring-offset-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),e.jsx("span",{className:"text-xs font-semibold",children:"Deregister"})]})]})})]})};typeof window<"u"&&(window.toTs=fe);const st=(t,r)=>{if(t===r)return!0;if(t==null||r==null)return!1;if(typeof t!="object"||typeof r!="object")return t===r;const i=Object.keys(t),n=Object.keys(r);if(i.length!==n.length)return!1;for(let d of i)if(!n.includes(d)||!st(t[d],r[d]))return!1;return!0},Et=({jobs:t,filterJobsByTime:r,autoRefresh:i,timezone:n})=>{const d=s.useRef(null),a=s.useRef(null),u=s.useRef(null),m=s.useRef(null),c=s.useRef(null),g=s.useRef(null),j=s.useRef(null),M=s.useRef(null),z=s.useRef(null),[b,$]=s.useState(!1),[L,k]=s.useState(!0),[y,v]=s.useState(null),[N,_]=s.useState({dualGauge:null}),O=s.useCallback(x=>x.labels&&x.labels["job-type"]==="test"?"Test Job":"Airflow Job",[]);s.useEffect(()=>{if(typeof window<"u"&&window.d3){$(!0),k(!1);return}const x=document.createElement("script");return x.src="https://d3js.org/d3.v7.min.js",x.async=!0,x.onload=()=>{$(!0),k(!1)},x.onerror=()=>{console.error("Failed to load D3.js"),v("Failed to load visualization library"),k(!1)},document.head.appendChild(x),()=>{const h=document.querySelector('script[src="https://d3js.org/d3.v7.min.js"]');h&&document.head.removeChild(h)}},[]);const R=s.useCallback(x=>{const h=j.current;if(!h)return;const D=x.filter(l=>O(l)==="Test Job").length,S=x.filter(l=>O(l)==="Airflow Job").length;D===0&&S===0?h.innerHTML=`
        <div class="bg-gray-50 rounded-lg p-4 text-center">
          <div class="text-gray-500 text-sm">No jobs to display</div>
        </div>
      `:h.innerHTML=`
        <div class="bg-white rounded-lg p-4 border border-gray-200">
          <div class="text-lg font-semibold text-gray-800 mb-3">Job Type Summary</div>
          <div class="space-y-2">
            <span class="text-sm">Test Jobs: ${D}</span>
            <br>
            <span class="text-sm">Airflow Jobs: ${S}</span>
          </div>
        </div>
      `},[O]),ee=s.useCallback(x=>{if(!a.current)return;if(x.length===0){const J=a.current;J.innerHTML=`
        <div class="modern-gauge-container" style="position: relative; width: 320px; height: 180px; display: flex; align-items: center; justify-content: center; gap: 24px; font-family: system-ui, -apple-system, sans-serif;">
          <!-- Circular Progress Ring -->
          <div style="position: relative; width: 160px; height: 160px;">
            <svg width="160" height="160" viewBox="0 0 160 160" style="transform: rotate(-90deg);">
              <circle cx="80" cy="80" r="70" fill="none" stroke="#f3f4f6" stroke-width="12"></circle>
              <circle cx="80" cy="80" r="70" fill="none" stroke="#f3f4f6" stroke-width="12" stroke-dasharray="440" stroke-dashoffset="440"></circle>
              <defs>
                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#e5e7eb;stop-opacity:1" />
                  <stop offset="100%" style="stop-color:#d1d5db;stop-opacity:1" />
                </linearGradient>
              </defs>
            </svg>
            <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
              <div style="font-size: 2.8rem; font-weight: 700; color: #9ca3af; line-height: 1; margin-bottom: 4px;">0%</div>
              <div style="font-size: 0.85rem; color: #6b7280; line-height: 1.1; font-weight: 500;">No Jobs</div>
            </div>
          </div>
          <div style="display: flex; flex-direction: column; gap: 16px; align-items: flex-start;">
            <div style="text-align: left;">
              <div style="font-size: 1.5rem; font-weight: 700; color: #9ca3af; line-height: 1;">0</div>
              <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Total Jobs</div>
            </div>
            <div style="text-align: left;">
              <div style="font-size: 1.5rem; font-weight: 700; color: #9ca3af; line-height: 1;">0</div>
              <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Successful</div>
            </div>
            <div style="text-align: left;">
              <div style="font-size: 1.5rem; font-weight: 700; color: #9ca3af; line-height: 1;">0</div>
              <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Failed</div>
            </div>
          </div>
        </div>
      `;return}const h=x.length,D=x.filter(J=>J.status==="SUCCEEDED").length,S=x.filter(J=>J.status==="FAILED").length;x.filter(J=>J.status==="RUNNING").length;const l=h?D/h:0,w=Math.round(l*100),C=l,o=w,f=h;console.log("🎯 Modern Gauge - Success Rate:",o+"%","of",f,"jobs");const p={total:f,succeeded:D,percent:o},B=!N.dualGauge||!st(p,N.dualGauge),A=a.current;if(!A)return;A.innerHTML=`
      <div class="modern-gauge-container" style="position: relative; width: 320px; height: 180px; display: flex; align-items: center; justify-content: center; gap: 24px; font-family: system-ui, -apple-system, sans-serif;">
        <!-- Circular Progress Ring -->
        <div style="position: relative; width: 160px; height: 160px;">
          <svg width="160" height="160" viewBox="0 0 160 160" style="transform: rotate(-90deg);">
            <!-- Background Circle -->
            <circle 
              cx="80" 
              cy="80" 
              r="70" 
              fill="none" 
              stroke="#f3f4f6" 
              stroke-width="12"
            ></circle>
            <!-- Progress Circle -->
            <circle 
              cx="80" 
              cy="80" 
              r="70" 
              fill="none" 
              stroke="url(#gradient)" 
              stroke-width="12" 
              stroke-linecap="round"
              stroke-dasharray="440"
              stroke-dashoffset="440"
              class="progress-circle"
              style="transition: stroke-dashoffset 1.5s cubic-bezier(0.4, 0, 0.2, 1);"
            ></circle>
            <!-- Gradient Definition -->
            <defs>
              <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
              </linearGradient>
            </defs>
          </svg>
          
          <!-- Center Content -->
          <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
            <div class="gauge-percentage" style="font-size: 2.8rem; font-weight: 700; color: #1f2937; line-height: 1; margin-bottom: 4px; display: block;">0%</div>
            <div style="font-size: 0.85rem; color: #6b7280; line-height: 1.1; font-weight: 500; display: block;">Success Rate</div>
          </div>
        </div>
        
        <!-- Stats Column (Right Side) -->
        <div style="display: flex; flex-direction: column; gap: 16px; align-items: flex-start;">
          <div style="text-align: left;">
            <div class="total-jobs" style="font-size: 1.5rem; font-weight: 700; color: #1f2937; line-height: 1;">${f}</div>
            <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Total Jobs</div>
          </div>
          <div style="text-align: left;">
            <div class="successful-jobs" style="font-size: 1.5rem; font-weight: 700; color: #10b981; line-height: 1;">${D}</div>
            <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Successful</div>
          </div>
          <div style="text-align: left;">
            <div class="failed-jobs" style="font-size: 1.5rem; font-weight: 700; color: #ef4444; line-height: 1;">${S}</div>
            <div style="font-size: 0.875rem; color: #6b7280; margin-top: 2px;">Failed</div>
          </div>
        </div>
      </div>
    `;const V=A.querySelector(".progress-circle"),G=A.querySelector(".gauge-percentage");if(!B){const J=2*Math.PI*70,Z=J-C*J;V.style.strokeDashoffset=Z,G.textContent=o+"%",_(H=>({...H,dualGauge:p}));return}_(J=>({...J,dualGauge:p})),console.log("🎯 Animating Modern Gauge to:",o+"%"),V.style.strokeDashoffset="440",G.textContent="0%",setTimeout(()=>{const J=2*Math.PI*70,Z=J-C*J;V.style.strokeDashoffset=Z;let H=0;const I=o/60,te=setInterval(()=>{H+=I,H>=o&&(H=o,clearInterval(te),console.log("✅ Modern Gauge Animation Complete:",o+"%")),G.textContent=Math.round(H)+"%"},25)},100)},[]),P=s.useCallback(x=>{if(!d.current){console.log("❌ Chart container ref not available");return}if(!window.d3){console.log("❌ D3.js not loaded yet");return}console.log("📊 Rendering bar chart with",x.length,"jobs");const h=d.current;if(h.innerHTML="",x.length===0){console.log("📊 No jobs data - showing empty state"),h.innerHTML=`
        <div style="display: flex; align-items: center; justify-content: center; height: 100%; min-height: 200px; color: #9ca3af; font-size: 1.1rem; font-weight: 500;">
          <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">📊</div>
            <div>No job data available for the selected time range</div>
            <div style="font-size: 0.9rem; color: #6b7280; margin-top: 0.5rem;">Try selecting a different time period</div>
          </div>
        </div>
      `;return}const S=(E=>{const q=E;console.log("🔍 Processing",q.length,"jobs for chart data");const oe=q.map(K=>fe(K.updated_at||K.created_at)).filter(K=>Number.isFinite(K));if(console.log("📅 Valid timestamps found:",oe.length),!oe.length)return console.log("❌ No valid timestamps found in jobs"),[];const X=Math.min(...oe),U=Math.max(...oe),ae=U-X;let Y;ae<=6*60*60*1e3?Y=15*60*1e3:ae<=48*60*60*1e3?Y=60*60*1e3:ae<=7*24*60*60*1e3?Y=6*60*60*1e3:Y=24*60*60*1e3;const se={},be=Math.floor(X/Y)*Y,de=Math.ceil(U/Y)*Y;for(let K=be;K<=de;K+=Y)se[K]={timestamp:new Date(K),"Test Jobs":0,"Airflow Jobs":0};q.forEach(K=>{const Ne=fe(K.updated_at||K.created_at);if(Number.isFinite(Ne)){const _e=Math.floor(Ne/Y)*Y;if(se[_e]){const Oe=O(K);se[_e][Oe]=(se[_e][Oe]||0)+1}}});const ne=Object.values(se).sort((K,Ne)=>K.timestamp-Ne.timestamp);return console.log("📊 Chart data created:",ne.length,"time bins"),ne})(x);if(S.length===0){console.log("❌ No chart data created - showing empty state"),h.innerHTML=`
        <div style="display: flex; align-items: center; justify-content: center; height: 100%; min-height: 200px; color: #9ca3af; font-size: 1.1rem; font-weight: 500;">
          <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">📊</div>
            <div>Unable to process job data for chart</div>
            <div style="font-size: 0.9rem; color: #6b7280; margin-top: 0.5rem;">Check if jobs have valid timestamps</div>
          </div>
        </div>
      `;return}const l=h.getBoundingClientRect(),w=Math.max(500,(l.width||800)-20),C=Math.max(250,(l.height||300)-10);console.log("📐 Chart dimensions:",{containerWidth:w,containerHeight:C,rectWidth:l.width});const o={top:20,right:20,bottom:70,left:50},f=w-o.left-o.right,p=C-o.top-o.bottom,A=window.d3.select(h).append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${f+o.left+o.right} ${p+o.top+o.bottom}`).attr("preserveAspectRatio","xMidYMid meet").style("background","transparent").style("display","block").style("max-width","100%").style("height","100%").append("g").attr("transform",`translate(${o.left},${o.top})`),V=window.d3.scaleTime().domain(window.d3.extent(S,E=>E.timestamp)).range([0,f]),G=40,J=f/S.length*.6,Z=Math.max(8,Math.min(G,J)),H=window.d3.scaleLinear().domain([0,window.d3.max(S,E=>E["Test Jobs"]+E["Airflow Jobs"])]).range([p,0]),te=window.d3.stack().keys(["Test Jobs","Airflow Jobs"])(S),je=window.d3.scaleOrdinal().domain(["Test Jobs","Airflow Jobs"]).range(["#3b82f6","#22c55e"]),pe=window.d3.axisLeft(H).tickSize(-f).tickFormat("");A.append("g").attr("class","grid").style("opacity",.3).style("stroke","#e5e7eb").call(pe);const xe=window.d3.select(h).append("div").style("opacity",0).style("position","absolute").style("background","#fff").style("color","#334155").style("padding","8px 12px").style("border-radius","6px").style("font-size","14px").style("box-shadow","0 2px 8px rgba(0,0,0,0.12)").style("border","1px solid #888").style("pointer-events","none").style("z-index","1000");A.selectAll(".serie").data(te).enter().append("g").attr("class","serie").attr("fill",E=>je(E.key)).selectAll("rect").data(E=>E).enter().append("rect").attr("x",E=>V(E.data.timestamp)-Z/2).attr("y",E=>H(E[1])).attr("height",E=>H(E[0])-H(E[1])).attr("width",Z).style("opacity",.9).on("mouseover",function(E,q){const oe=window.d3.select(this.parentNode).datum().key,X=q[1]-q[0],U=q.data.timestamp,ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Y=`${U.getDate()}-${ae[U.getMonth()]}-${U.getFullYear()}`,se=`${U.getHours().toString().padStart(2,"0")}:${U.getMinutes().toString().padStart(2,"0")}`,be=q.data["Test Jobs"]+q.data["Airflow Jobs"];xe.transition().duration(200).style("opacity",.9),xe.html(`<b>${Y} ${se}</b><br>${oe}: <b>${X}</b><br>Total: <b>${be}</b>`).style("left",E.pageX+18+"px").style("top",E.pageY-10+"px")}).on("mouseout",function(){xe.transition().duration(500).style("opacity",0)});const ke=window.d3.extent(S,E=>E.timestamp),ge=ke[1]-ke[0];let ue,ie;ge<=6*60*60*1e3?(ue=window.d3.timeFormat("%H:%M"),ie=window.d3.timeMinute.every(30)):ge<=2*24*60*60*1e3?(ue=window.d3.timeFormat("%d %b %H:%M"),ie=window.d3.timeHour.every(4)):ge<=7*24*60*60*1e3?(ue=window.d3.timeFormat("%d-%b"),ie=window.d3.timeDay.every(1)):(ue=window.d3.timeFormat("%d-%b-%Y"),ie=window.d3.timeDay.every(Math.ceil(ge/(7*24*60*60*1e3))));const Te=window.d3.axisBottom(V).ticks(ie).tickFormat(ue);A.append("g").attr("transform",`translate(0,${p})`).call(Te).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),A.append("g").call(window.d3.axisLeft(H));const W=A.selectAll(".legend").data(je.domain().slice()).enter().append("g").attr("class","legend").attr("transform",(E,q)=>`translate(${f-120},${q*20})`);W.append("rect").attr("x",0).attr("width",18).attr("height",18).style("fill",je),W.append("text").attr("x",24).attr("y",9).attr("dy","0.35em").style("text-anchor","start").style("font-size","12px").text(E=>E)},[O]),F=s.useCallback(x=>{if(!u.current||!window.d3)return;const h=u.current;if(h.innerHTML="",x.length===0){h.innerHTML=`
        <div style="display: flex; align-items: center; justify-content: center; height: 100%; min-height: 288px; color: #9ca3af; font-size: 1.1rem; font-weight: 500;">
          <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">🔥</div>
            <div>No activity data available</div>
            <div style="font-size: 0.9rem; color: #6b7280; margin-top: 0.5rem;">Jobs will appear here when they match your time filter</div>
          </div>
        </div>
      `;return}const S=(W=>{const E=[],q={},oe=new Set;if(W.forEach(X=>{const U=new Date(X.created_at||X.updated_at),ae=U.getDay(),Y=U.getHours(),se=`${ae}-${Y}`;q[se]=(q[se]||0)+1,oe.add(se)}),W.length<10&&oe.size>0){const X=new Set,U=new Set;for(const de of oe){const[ne,K]=de.split("-").map(Number);U.add(ne),X.add(K)}const ae=Math.max(0,Math.min(...X)-2),Y=Math.min(23,Math.max(...X)+2),se=Math.max(0,Math.min(...U)-1),be=Math.min(6,Math.max(...U)+1);for(let de=se;de<=be;de++)for(let ne=ae;ne<=Y;ne++)E.push({day:de,hour:ne,value:q[`${de}-${ne}`]||0})}else for(let X=0;X<7;X++)for(let U=0;U<24;U++)E.push({day:X,hour:U,value:q[`${X}-${U}`]||0});return E})(x),l=window.d3.max(S,W=>W.value),w=h.getBoundingClientRect(),C={top:45,right:40,bottom:30,left:80},o=Math.max(w.width-C.left-C.right,600),f=Math.max(w.height-C.top-C.bottom,150),p=[...new Set(S.map(W=>W.hour))],B=[...new Set(S.map(W=>W.day))],A=p.length,V=B.length,G=o/(A||24),J=Math.min(f/(V||7),G*.6),Z=G,H=J,I=Z*(A||24),te=H*(V||7),pe=window.d3.select(h).append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${I+C.left+C.right} ${te+C.top+C.bottom}`).attr("preserveAspectRatio","xMidYMid meet").append("g").attr("transform",`translate(${C.left},${C.top})`),xe=window.d3.scaleLinear().domain([0,l||10]).range(["#e5e7eb","#22c55e"]),ke=Math.min(...p),ge=Math.min(...B);pe.selectAll(".cell").data(S).enter().append("rect").attr("class","cell").attr("x",W=>(W.hour-ke)*Z).attr("y",W=>(W.day-ge)*H).attr("width",Z*.95).attr("height",H*.9).attr("rx",3).attr("fill",W=>xe(W.value)).style("cursor","pointer").on("mouseover",function(W,E){const q=window.d3.select("body").append("div").attr("class","heatmap-tooltip").style("position","absolute").style("background","rgba(0,0,0,0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index","1000"),oe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];q.html(`${oe[E.day]} ${E.hour}:00<br/>${E.value} jobs`).style("left",W.pageX+10+"px").style("top",W.pageY-10+"px")}).on("mouseout",function(){window.d3.selectAll(".heatmap-tooltip").remove()});const ue=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ie=Math.max(Math.min(H*.6,14),10);pe.selectAll(".day-label").data(ue).enter().append("text").attr("class","day-label").attr("x",-10).attr("y",(W,E)=>E*H+H/2).attr("dy","0.35em").style("text-anchor","end").style("font-size",ie+"px").style("font-weight","500").style("fill","#4b5563").text(W=>W);const Te=Z>25?window.d3.range(0,24,2):window.d3.range(0,24,3);pe.selectAll(".hour-label").data(Te).enter().append("text").attr("class","hour-label").attr("x",W=>W*Z+Z/2).attr("y",-15).style("text-anchor","middle").style("font-size",Math.min(ie,12)+"px").style("font-weight","500").style("fill","#4b5563").text(W=>`${W}:00`)},[]),re=s.useCallback((x,h,D,S)=>{if(!h.current||!window.d3)return;const l=h.current;l.innerHTML="";const w=S?x.filter(S):x;if(!w.length){l.innerHTML=`
        <div class="flex items-center justify-center h-48 text-gray-500">
          No ${D.toLowerCase()} to display
        </div>
      `;return}const C=w.reduce((I,te)=>(I[te.status]=(I[te.status]||0)+1,I),{}),o=Object.entries(C).map(([I,te])=>({label:I,value:te})),f=200,p=200,B=Math.min(f,p)/2,V=window.d3.select(l).append("svg").attr("width",f).attr("height",p).append("g").attr("transform",`translate(${f/2},${p/2})`),G=window.d3.scaleOrdinal().domain(["SUCCEEDED","FAILED","RUNNING"]).range(["#22c55e","#ef4444","#f59e0b"]),J=window.d3.pie().value(I=>I.value),Z=window.d3.arc().innerRadius(B*.4).outerRadius(B*.8),H=V.selectAll(".arc").data(J(o)).enter().append("g").attr("class","arc");H.append("path").attr("d",Z).attr("fill",I=>G(I.data.label)),H.append("text").attr("transform",I=>`translate(${Z.centroid(I)})`).attr("dy","0.35em").style("text-anchor","middle").style("font-size","12px").style("font-weight","bold").style("fill","white").text(I=>I.data.value)},[]),Q=s.useCallback((x,h,D,S)=>{if(!h.current)return;const l=h.current,w=S?x.filter(S):x;if(!w.length){l.innerHTML=`
        <div class="text-center text-gray-500 py-4">
          No ${D.toLowerCase()} to display
        </div>
      `;return}const C=w.reduce((p,B)=>(p[B.status]=(p[B.status]||0)+1,p),{}),o={SUCCEEDED:"#22c55e",FAILED:"#ef4444",RUNNING:"#f59e0b"},f=Object.entries(C).map(([p,B])=>`
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full mr-2" style="background-color: ${o[p]}"></div>
          <span class="text-sm">${p}</span>
        </div>
        <span class="text-sm font-medium">${B}</span>
      </div>
    `).join("");l.innerHTML=`
      <div class="bg-white rounded-lg p-4 border border-gray-200">
        <div class="text-lg font-semibold text-gray-800 mb-3">${D}</div>
        <div class="space-y-2">
          ${f}
        </div>
        <div class="mt-3 pt-2 border-t border-gray-200">
          <div class="flex justify-between items-center">
            <span class="text-sm font-medium">Total</span>
            <span class="text-sm font-medium">${w.length}</span>
          </div>
        </div>
      </div>
    `},[]);return s.useEffect(()=>{if(!b||L)return;const x=r?r(t):t;console.log("📊 Analytics Tab - Rendering charts with",x.length,"filtered jobs (",t.length,"total )"),ee(x),P(x),F(x),R(x),re(x,m,"Job Types",null),re(x,c,"Test Jobs",h=>O(h)==="Test Job"),re(x,g,"Airflow Jobs",h=>O(h)==="Airflow Job"),Q(x,j,"All Jobs",null),Q(x,M,"Test Jobs",h=>O(h)==="Test Job"),Q(x,z,"Airflow Jobs",h=>O(h)==="Airflow Job")},[b,t,L,r,ee,P,F,re,Q,R,O]),L?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading analytics..."})})}):y?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-red-500",children:y})})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex gap-6 h-80",children:[e.jsxs("div",{className:"w-1/5 bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Total Jobs & Success Rate"}),e.jsx("div",{ref:a,className:"flex items-center justify-center h-full"})]}),e.jsxs("div",{className:"w-4/5 bg-white rounded-lg shadow-sm border border-gray-200 p-4 overflow-hidden",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Test Jobs vs Airflow Jobs Over Time"}),e.jsx("div",{ref:d,className:"w-full",style:{height:"calc(100% - 3rem)"}})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Job Activity Heatmap: 24-Hour Timeline by Day of Week"}),e.jsx("div",{ref:u,className:"w-full h-72 min-h-[288px]"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"All Jobs Distribution"}),e.jsx("div",{ref:m,className:"flex justify-center mb-4"}),e.jsx("div",{ref:j})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"Test Jobs Status"}),e.jsx("div",{ref:c,className:"flex justify-center mb-4"}),e.jsx("div",{ref:M})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"Airflow Jobs Status"}),e.jsx("div",{ref:g,className:"flex justify-center mb-4"}),e.jsx("div",{ref:z})]})]})]})},$t=({jobId:t,jobs:r,timezone:i,onClose:n})=>{const[d,a]=s.useState(null),[u,m]=s.useState(""),[c,g]=s.useState(!0),[j,M]=s.useState(!0),z=s.useRef(null),b=s.useRef(null),$=r.find(y=>y.job_id===t);s.useEffect(()=>{const y=v=>{v.key==="Escape"&&n()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),s.useEffect(()=>{if(!t)return;const y=async()=>{try{M(!0);const[v,N]=await Promise.all([Se(`${me}/status/${t}`),fetch(`${me}/logs/${t}`,{headers:Me()})]),_=await N.text();a(v),m(_),b.current&&(b.current.scrollTop=b.current.scrollHeight)}catch(v){console.error("Failed to fetch job data:",v)}finally{M(!1)}};return y(),c&&(z.current=setInterval(y,2e3)),()=>{z.current&&clearInterval(z.current)}},[t,c]);const L=async()=>{try{await navigator.clipboard.writeText(u)}catch(y){console.error("Failed to copy logs:",y)}},k={...$,...d};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden border border-gray-100",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-100",children:[e.jsxs("h3",{className:"text-heading-2 text-primary flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"})}),"Job ",t]}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200 flex items-center justify-center",title:"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),j?e.jsx("div",{className:"text-sm text-gray-500 p-4 bg-gray-50 rounded-lg border border-gray-200",children:"Loading job details..."}):e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"form-label",children:"Status:"}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold shadow-sm status-chip-${k.status}`,children:[k.status==="SUCCEEDED"&&e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),k.status==="FAILED"&&e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),k.status==="RUNNING"&&e.jsx("div",{className:"w-2 h-2 mr-1.5 rounded-full bg-current animate-pulse"}),k.status==="QUEUED"&&e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm1-12a1 1 0 1 0-2 0v4a1 1 0 0 0.293.707l2.828 2.829a1 1 0 1 0 1.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),k.status]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"form-label",children:"Agent:"}),e.jsx("span",{className:"text-mono bg-blue-50 px-2 py-1 rounded border",children:k.agent_id||"-"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"form-label",children:"RC:"}),e.jsx("span",{className:"text-mono bg-gray-100 px-2 py-1 rounded",children:k.rc??"-"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Created:"}),e.jsxs("div",{className:"text-secondary text-body-small mt-1",children:[ve(k.created_at,i)," · ",we(k.created_at)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Updated:"}),e.jsxs("div",{className:"text-secondary text-body-small mt-1",children:[ve(k.updated_at,i)," · ",we(k.updated_at)]})]})]})]}),e.jsx("div",{className:"col-span-1 md:col-span-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Labels:"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[Object.entries(k.labels||{}).map(([y,v])=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-md status-text text-emerald-800 shadow-sm",children:[e.jsxs("span",{className:"text-emerald-600",children:[y,":"]}),e.jsx("span",{className:"ml-1 font-semibold",children:v})]},y)),Object.keys(k.labels||{}).length===0&&e.jsx("span",{className:"text-tertiary text-body italic",children:"No labels"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"form-label",children:"Log path:"}),e.jsx("div",{className:"text-mono bg-gray-100 px-2 py-1 rounded border mt-1 break-all",children:k.log_path||"-"})]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h4",{className:"text-heading-3 text-primary flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Logs"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:L,className:"inline-flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 text-gray-700 btn-text rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1",title:"Copy logs",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]}),e.jsxs("label",{className:"text-sm flex items-center gap-2 text-gray-700",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2",checked:c,onChange:y=>g(y.target.checked)}),"Auto-follow"]})]})]}),e.jsx("pre",{ref:b,className:"p-4 rounded-lg border border-gray-200 overflow-auto h-64 text-xs whitespace-pre-wrap break-words font-mono bg-gray-900 text-green-400 shadow-inner",children:u||"No logs available..."})]})]})})}):null},Rt=({agents:t,preselectedAgent:r,onClose:i,onJobsTabClick:n,onJobSubmitted:d})=>{const[a,u]=s.useState(r||""),[m,c]=s.useState("echo HELLO && sleep 2 && echo DONE"),[g,j]=s.useState("{}"),[M,z]=s.useState(""),[b,$]=s.useState(!1),[L,k]=s.useState({show:!1,message:"",type:"info"}),[y,v]=s.useState(!1),N=s.useRef(null);s.useEffect(()=>{u(r||"")},[r]),s.useEffect(()=>{const h=D=>{N.current&&!N.current.contains(D.target)&&v(!1)};if(y)return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[y]),s.useEffect(()=>{const h=D=>{D.key==="Escape"&&i()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[i]);const _=s.useCallback(h=>{if(!h)return null;const D=t.find(C=>C.agent_id===h);if(!D)return"not-found";const S=D.last_heartbeat?Date.parse(D.last_heartbeat):0,l=Date.now(),w=2*60*1e3;return D.active&&S&&l-S<w?"registered":S&&l-S<w?"discovered":"offline"},[t]),O=_(a),R=!a||O==="registered",ee=[{value:"",label:"(Any agent via labels)"},...t.map(h=>({value:h.agent_id,label:h.agent_id}))],P=h=>{u(h),v(!1)},F=()=>{const h=ee.find(D=>D.value===a);return h?h.label:"(Any agent via labels)"},Q=(()=>{if(!a)return null;const h=_(a);let S=`Agent status: ${a} is `,l="";switch(h){case"registered":S+="Registered",l="bg-green-50 text-green-800 border border-green-200";break;case"discovered":S+="Discovered",l="bg-yellow-50 text-yellow-800 border border-yellow-200";break;case"offline":S+="Offline",l="bg-red-50 text-red-700 border border-red-200";break;case"not-found":S+="Not Found",l="bg-red-50 text-red-700 border border-red-200";break;default:return null}return{message:S,colorClass:l}})(),x=async()=>{if(!(b||!R)){$(!0),z("submitting..."),k({show:!1});try{let h={};try{h=JSON.parse(g||"{}")}catch{throw new Error("Invalid JSON in labels field")}h["job-type"]="test";const D={...h};delete D["job-type"];const S=a?{agent_id:a}:{labels:D},l={command:m.trim(),labels:h},C=await(await fetch(`${me}/submit`,{method:"POST",headers:Me(),body:JSON.stringify({job:l,route:S})})).text();z(C);let o="",f=!1;try{const p=JSON.parse(C);p&&p.job_id?(o=p.job_id,f=!0):p&&p.id&&(o=p.id,f=!0)}catch{const p=C.match(/job_id\s*[:=]\s*['\"]?(\w+)["']?/i);p&&(o=p[1],f=!0)}if(f){let p=[];try{p=JSON.parse(localStorage.getItem("testJobIds")||"[]")}catch{}p.includes(o)||(p.push(o),localStorage.setItem("testJobIds",JSON.stringify(p))),k({show:!0,type:"success",message:"Job Submitted Successfully"}),d(),setTimeout(()=>k({show:!1}),2e3)}else k({show:!0,type:"error",message:"Job submission failed"})}catch(h){z(`error: ${h.message}`),k({show:!0,type:"error",message:`Job submission failed: ${h.message}`})}finally{$(!1)}}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl border border-gray-100",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-100",children:[e.jsxs("h3",{className:"text-heading-2 text-primary flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Test A Job"]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200 flex items-center justify-center",title:"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"space-y-2",children:[Q&&e.jsx("div",{className:`mb-2 px-3 py-2 rounded text-sm ${Q.colorClass}`,children:Q.message}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"form-label",children:"Target Agent"}),e.jsxs("div",{className:"relative",ref:N,children:[e.jsxs("button",{onClick:()=>v(!y),className:"border border-gray-300 rounded-lg px-3 py-2.5 w-full text-body text-gray-900 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 cursor-pointer hover:border-gray-400 text-left flex items-center justify-between",children:[e.jsx("span",{children:F()}),e.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${y?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto",children:ee.map(h=>e.jsx("button",{onClick:()=>P(h.value),className:`w-full text-left px-3 py-2.5 text-sm transition-all duration-150 hover:bg-blue-50 hover:text-blue-900 ${a===h.value?"bg-blue-100 text-blue-900 font-medium":"text-gray-700"}`,children:h.label},h.value))})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"form-label",children:"Command"}),e.jsx("input",{value:m,onChange:h=>c(h.target.value),className:"border border-gray-300 rounded-lg px-3 py-2.5 w-full text-body focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",placeholder:"Command to run"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"form-label",children:"Labels (JSON)"}),e.jsx("textarea",{value:g,onChange:h=>j(h.target.value),className:"border border-gray-300 rounded-lg px-3 py-2.5 w-full text-body focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-mono",rows:"3",placeholder:'{} (or {"os":"linux"})'})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("button",{onClick:x,disabled:b||!R,className:`inline-flex items-center gap-2 px-4 py-2.5 btn-text rounded-lg transition-all duration-200 shadow-sm hover:shadow-md ${R&&!b?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:b?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Submit Job"]})}),e.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"})}),"Show All Jobs"]})]}),L.show&&e.jsx("div",{className:`mt-2 text-sm px-3 py-2 rounded ${L.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:L.message})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"form-label",children:"Output"}),e.jsx("pre",{className:"p-4 rounded-lg border border-gray-200 overflow-auto h-32 text-mono-small whitespace-pre-wrap break-words bg-gray-900 text-green-400 shadow-inner",children:M||"No output yet..."})]})]})})})},Bt=({message:t,onClose:r})=>t?e.jsxs("div",{className:"bg-red-50 text-red-700 border border-red-200 px-3 py-2 rounded flex items-center justify-between",children:[e.jsx("span",{children:t}),e.jsx("button",{onClick:r,className:"ml-2 text-red-500 hover:text-red-700",children:"×"})]}):null,Ot=()=>{console.log("🚀 TIMEZONE HOOK CALLED!");const t=()=>{try{const u=Intl.DateTimeFormat().resolvedOptions().timeZone;return u?{"Asia/Kolkata":"Asia/Kolkata","Asia/Calcutta":"Asia/Kolkata"}[u]||u:null}catch{return null}},[r,i]=s.useState(()=>{console.log("🔍 FRESH PAGE LOAD - TIMEZONE INITIALIZATION:");const u=t(),m=Intl.DateTimeFormat().resolvedOptions().timeZone,c=u||m;return console.log("  - Browser detected:",u),console.log("  - Fallback:",m),console.log("  - Always using LOCAL timezone:",c),localStorage.removeItem("router_ui_tz"),localStorage.setItem("router_ui_tz",c),console.log("  ✅ Fresh start with local timezone on every page load"),c}),n=s.useCallback(u=>{console.log("🎯 USER CHANGING timezone from",r,"to",u),i(u),localStorage.setItem("router_ui_tz",u),window.TZ=u,console.log("✅ Timezone changed to:",u),console.log("� NOTE: This change is only for current page session"),console.log("🔄 Next page refresh will reset to local timezone")},[r]),d=s.useCallback(()=>{console.log("🏠 Resetting to local timezone");const u=t()||Intl.DateTimeFormat().resolvedOptions().timeZone;return i(u),localStorage.setItem("router_ui_tz",u),window.TZ=u,console.log("✅ Reset to:",u),u},[]),a=s.useCallback(()=>{console.log("🗑️ CLEARING timezone cache"),localStorage.removeItem("router_ui_tz");const u=t()||Intl.DateTimeFormat().resolvedOptions().timeZone;return i(u),window.TZ=u,console.log("✅ Cache cleared, using local:",u),console.log("📝 Next page load will start fresh with local timezone"),u},[]);return{timezone:r,updateTimezone:n,resetToLocal:d,clearTimezoneCache:a}},Jt=(t=!0,r=2e3)=>{const[i,n]=s.useState([]),[d,a]=s.useState(!0),[u,m]=s.useState(null),c=s.useRef(null),g=s.useCallback(async()=>{try{const M=await Se(`${me}/jobs?limit=1000`),z=Array.isArray(M)?M:M.jobs||[];let b=[];try{b=JSON.parse(localStorage.getItem("testJobIds")||"[]")}catch{}const $=z.map(L=>{const k=L.job_id||L.id||"";let y=L.labels||{};return b.includes(k)&&(y={...y,"job-type":"test"}),{job_id:k,status:(L.status||"").toUpperCase(),agent_id:L.agent_id||"",rc:L.rc!==void 0?L.rc:null,log_path:L.log_path||"",created_at:L.created_at||L.createdAt||null,updated_at:L.updated_at||L.updatedAt||null,labels:y}});n($),m(null)}catch(M){m(M.message)}finally{a(!1)}},[]);s.useEffect(()=>{if(g(),t)return c.current=setInterval(g,r),()=>{c.current&&clearInterval(c.current)}},[t,r,g]);const j=s.useCallback(()=>{a(!0),g()},[g]);return{jobs:i,loading:d,error:u,refreshJobs:j}},Ht=(t=!0,r=2e3)=>{const[i,n]=s.useState([]),[d,a]=s.useState(!0),[u,m]=s.useState(null),c=s.useRef(null),g=s.useCallback(async()=>{try{const M=await Se(`${me}/agents`),z=Array.isArray(M)?M:M.agents||[];n(z),m(null)}catch(M){m(M.message)}finally{a(!1)}},[]);s.useEffect(()=>{if(g(),t)return c.current=setInterval(g,r),()=>{c.current&&clearInterval(c.current)}},[t,r,g]);const j=s.useCallback(()=>{a(!0),g()},[g]);return{agents:i,loading:d,error:u,refreshAgents:j}},Wt=()=>{const[t,r]=s.useState({enabled:!1,field:"updated_at",mode:"relative",relMins:1440,abs:{fromMs:null,toMs:null}}),i=s.useCallback(d=>{r(a=>({...a,...d}))},[]),n=s.useCallback(d=>{var c,g;if(!t.enabled)return d;let a=null,u=null;t.mode==="relative"?(u=Date.now(),a=u-t.relMins*60*1e3):(a=((c=t.abs)==null?void 0:c.fromMs)??null,u=((g=t.abs)==null?void 0:g.toMs)??null);const m=t.field||"updated_at";return d.filter(j=>{const M=j[m],z=window.toTs?window.toTs(M):Date.parse(M);return!(!Number.isFinite(z)||a!=null&&z<a||u!=null&&z>u)})},[t]);return{timeRange:t,updateTimeRange:i,filterJobsByTime:n}};typeof window<"u"&&(window.toTs=fe);function Ft(){const[t,r]=s.useState("jobs"),[i,n]=s.useState(!0),[d,a]=s.useState(null),[u,m]=s.useState(!1),[c,g]=s.useState(!1),[j,M]=s.useState(null),[z,b]=s.useState(""),{jobs:$,loading:L,error:k,refreshJobs:y}=Jt(i),{agents:v,loading:N,error:_,refreshAgents:O}=Ht(i),{timezone:R,updateTimezone:ee,resetToLocal:P,clearTimezoneCache:F}=Ot(),{timeRange:re,updateTimeRange:Q,filterJobsByTime:x}=Wt(),D=[k,_,d].filter(Boolean)[0],S=s.useCallback(async()=>{a(null),t==="analytics"?(await y(),window.dispatchEvent(new CustomEvent("analyticsRefresh",{detail:{animate:!0}}))):await Promise.all([y(),O()])},[t,y,O]),l=s.useCallback(p=>{M(p),m(!0)},[]),w=s.useCallback(()=>{m(!1),M(null)},[]),C=s.useCallback((p="")=>{b(p),g(!0)},[]),o=s.useCallback(()=>{g(!1),b("")},[]),f=s.useCallback(()=>{r("jobs"),o()},[o]);return e.jsxs("div",{className:"bg-slate-50 text-slate-800 min-h-screen",children:[e.jsxs("div",{className:"max-w-screen-2xl mx-auto p-4 space-y-4",children:[e.jsx(St,{timezone:R,onTimezoneChange:ee,onResetToLocal:P,onClearCache:F,onSubmitJobClick:()=>C()}),D&&e.jsx(Bt,{message:D,onClose:()=>a(null)}),e.jsx("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow p-4",children:[e.jsx(Tt,{activeTab:t,onTabChange:r,autoRefresh:i,onAutoRefreshChange:n,onManualRefresh:S,timeRange:re,onTimeRangeChange:Q,loading:L||N}),t==="jobs"&&e.jsx(_t,{jobs:$,timezone:R,timeRange:re,filterJobsByTime:x,onJobClick:l,onTimeRangeClear:()=>Q({enabled:!1}),loading:L}),t==="agents"&&e.jsx(At,{agents:v,jobs:$,timezone:R,timeRange:re,filterJobsByTime:x,onTestJobClick:C,loading:N,refreshAgents:O}),t==="analytics"&&e.jsx(Et,{jobs:$,filterJobsByTime:x,autoRefresh:i,timezone:R})]})})]}),u&&e.jsx($t,{jobId:j,jobs:$,timezone:R,onClose:w}),c&&e.jsx(Rt,{agents:v,preselectedAgent:z,onClose:o,onJobsTabClick:f,onJobSubmitted:y})]})}et(document.getElementById("root")).render(e.jsx(s.StrictMode,{children:e.jsx(Ft,{})}));
